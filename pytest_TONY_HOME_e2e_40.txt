============================= test session starts =============================
platform win32 -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\tonyh\miniconda3\envs\mini_conda_02\python.exe
cachedir: .pytest_cache
rootdir: D:\local\cursor\feedback_portal
configfile: pytest.ini
plugins: anyio-4.7.0, asyncio-1.1.0, base-url-2.1.0, playwright-0.7.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... [DEBUG] Using DB URI: postgresql+psycopg2://postgres:methane@localhost:5432/tony_home_tracker
collected 126 items

tests/e2e/test_delete_testing_data.py::test_delete_testing_range_page_loads[chromium] PASSED
tests/e2e/test_delete_testing_data.py::test_min_max_id_inputs[chromium] PASSED
tests/e2e/test_delete_testing_data.py::test_dry_run_checkbox_and_preview[chromium] [ALERT] Use this tool to delete test rows from the portal_updates and incidences tables.
Specify a min and max id_incidence (both must be at least 1000000).
Check 'Dry Run' to preview what would be deleted without making changes.
Warning: This cannot delete real data (id_incidence < 1000000 is not allowed).
For safety, always do a dry run first!
[ALERT] Summary:
portal_updates: 220 row(s) would be deleted
id_incidence(s): [ 1002021, 1002022, 1002031, 1002032, 1002041, 1002051, 1002052 ]
incidences: 7 row(s) would be deleted
id_incidence(s): [ 1002021, 1002022, 1002031, 1002032, 1002041, 1002051, 1002052 ]

This was a dry run. No data was deleted.
PASSED
tests/e2e/test_delete_testing_data.py::test_delete_button_and_real_delete[chromium] [ALERT] Use this tool to delete test rows from the portal_updates and incidences tables.
Specify a min and max id_incidence (both must be at least 1000000).
Check 'Dry Run' to preview what would be deleted without making changes.
Warning: This cannot delete real data (id_incidence < 1000000 is not allowed).
For safety, always do a dry run first!
[ALERT] Summary:
portal_updates: 220 row(s) deleted
incidences: 7 row(s) deleted

Rows have been permanently deleted.
PASSED
tests/e2e/test_delete_testing_data.py::test_diagnostics_messaging[chromium] [ALERT] min_id cannot be greater than max_id.
[ALERT] Use this tool to delete test rows from the portal_updates and incidences tables.
Specify a min and max id_incidence (both must be at least 1000000).
Check 'Dry Run' to preview what would be deleted without making changes.
Warning: This cannot delete real data (id_incidence < 1000000 is not allowed).
For safety, always do a dry run first!
[ALERT] Summary:
portal_updates: 0 row(s) would be deleted
incidences: 0 row(s) would be deleted

This was a dry run. No data was deleted.
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_upload_page_loads[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_input_exists[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_drop_zone_exists[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Dairy Digester) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_invalid_file_upload[chromium] Invalid file rejected: 
        This file is missing a valid 'Incidence/Emission ID' (id_incidence). Please add a positive integer id_incidence to your spreadsheet before uploading.
        
      
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_empty_file_upload[chromium] Empty file was rejected as expected
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_large_file_upload[chromium] Testing upload with file size: 100985 bytes
Large file upload successful
PASSED
tests/e2e/test_excel_upload_workflows.py::TestUploadPageElements::test_page_structure[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestUploadPageElements::test_form_structure[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestUploadPageElements::test_accessibility_features[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::test_list_staged_diagnostics_overlay[chromium] [DIAGNOSTICS OVERLAY after modal confirm click] [JS_DIAG] Page loaded: unknown-page
Button clicked: discard-staged
Button clicked: discard-modal-confirm

PASSED
tests/e2e/test_excel_upload_workflows.py::test_upload_file_only[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_discard_staged_file_only[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_upload_multiple_files_only[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_discard_each_staged_file_separately[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_upload_malformed_file_only[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::test_discard_malformed_file_only[chromium] [STEP] Navigated to /list_staged for staged file: id_1002001_ts_20250802_214458.json
[STEP] Found discard button for staged file: id_1002001_ts_20250802_214458.json
[STEP] Clicked discard button for staged file: id_1002001_ts_20250802_214458.json
[STEP] Discard confirm modal appeared.
[STEP] Modal confirm button is visible. Clicking...
[STEP] Modal confirm clicked and navigation complete.
[STEP] Staged file id_1002001_ts_20250802_214458.json successfully discarded and not present after reload.
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_page_loads[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_page_loads[chromium] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Dairy Digester) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_invalid_file[chromium] Refactored upload correctly rejected invalid file: 
        This file is missing a valid 'Incidence/Emission ID' (id_incidence). Please add a positive integer id_incidence to your spreadsheet before uploading.
        
      
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_invalid_file[chromium] Refactored staged upload correctly rejected invalid file: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_page_loads[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_filter_functionality[chromium] [DEBUG] User column values after filtering: ['anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous', 'anonymous']
PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_download_csv_button[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_accessibility[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_empty_state[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_long_text_overflow[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_special_characters[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_date_range_boundaries[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_csv_download_with_filters[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_rapid_filter_changes[chromium] PASSED
tests/e2e/test_feedback_updates.py::test_feedback_updates_large_data_set[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_loads[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_empty_state[chromium] SKIPPED
tests/e2e/test_homepage.py::test_homepage_navigation_menu[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_accessibility[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_card_content_and_links[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_card_navigation[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_pagination_or_scrolling[chromium] PASSED
tests/e2e/test_homepage.py::test_homepage_special_characters_and_long_text[chromium] PASSED
tests/e2e/test_javascript_logging.py::test_diagnostics_overlay_on_diagnostic_test_page[chromium] [DIAGNOSTICS OVERLAY after load] [JS_DIAG] Page loaded: java_script_diagnostic_test

[DIAGNOSTICS OVERLAY after click] [JS_DIAG] Page loaded: java_script_diagnostic_test
Button clicked: send-diagnostic: Example diagnostic message from JS test page

PASSED
tests/e2e/test_list_uploads.py::test_list_uploads_page_loads[chromium] PASSED
tests/e2e/test_list_uploads.py::test_list_uploads_file_links[chromium] FAILED
tests/e2e/test_list_uploads.py::test_list_uploads_accessibility[chromium] PASSED
tests/e2e/test_list_uploads.py::test_list_uploads_empty_state[chromium] SKIPPED
tests/e2e/test_menu_calsmp_help.py::test_calsmp_help_menu_links[chromium] All CalSMP & Help menu links verified (presence, href, target).
PASSED
tests/e2e/test_menu_developer_utilities.py::test_developer_utilities_menu_links_and_create_incidence[chromium] 'Create Incidence (Oil & Gas)' navigated successfully to an incidence update page: http://127.0.0.1:2113/incidence_update/1002050/ and all dummy data fields were found.
'Create Incidence (Landfill)' navigated successfully to an incidence update page: http://127.0.0.1:2113/incidence_update/1002030/ and all dummy data fields were found.
All Developer Utilities menu links verified (presence, href, navigation to update page, all dummy data fields present).
PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredVsOriginalEquivalence::test_upload_equivalence_success_case[chromium-NOTSET] SKIPPED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredVsOriginalEquivalence::test_error_handling_equivalence_no_file[chromium] PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredVsOriginalEquivalence::test_error_handling_equivalence_invalid_file[chromium] PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredVsOriginalEquivalence::test_form_structure_equivalence[chromium] PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredVsOriginalEquivalence::test_message_parameter_equivalence[chromium] PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredRouteSpecificFeatures::test_refactored_route_specific_error_messages[chromium] PASSED
tests/e2e/test_refactored_vs_original_equivalence.py::TestRefactoredRouteSpecificFeatures::test_refactored_route_navigation[chromium] PASSED
tests/e2e/test_review_staged.py::test_hide_changes_checkbox[chromium] [DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214642.json
[DEBUG] Found 26 confirm-checkboxes:
  - Checkbox 0: name=confirm_overwrite_additional_notes
  - Checkbox 1: name=confirm_overwrite_component_at_source
  - Checkbox 2: name=confirm_overwrite_contact_email
  - Checkbox 3: name=confirm_overwrite_contact_name
  - Checkbox 4: name=confirm_overwrite_contact_phone
  - Checkbox 5: name=confirm_overwrite_equipment_at_source
  - Checkbox 6: name=confirm_overwrite_facility_name
  - Checkbox 7: name=confirm_overwrite_final_repair_concentration
  - Checkbox 8: name=confirm_overwrite_id_incidence
  - Checkbox 9: name=confirm_overwrite_id_message
  - Checkbox 10: name=confirm_overwrite_id_plume
  - Checkbox 11: name=confirm_overwrite_initial_leak_concentration
  - Checkbox 12: name=confirm_overwrite_initial_mitigation_plan
  - Checkbox 13: name=confirm_overwrite_lat_carb
  - Checkbox 14: name=confirm_overwrite_long_carb
  - Checkbox 15: name=confirm_overwrite_method21_date
  - Checkbox 16: name=confirm_overwrite_method21_performed
  - Checkbox 17: name=confirm_overwrite_method21_result
  - Checkbox 18: name=confirm_overwrite_observation_timestamp
  - Checkbox 19: name=confirm_overwrite_ogi_date
  - Checkbox 20: name=confirm_overwrite_ogi_performed
  - Checkbox 21: name=confirm_overwrite_ogi_result
  - Checkbox 22: name=confirm_overwrite_repair_description
  - Checkbox 23: name=confirm_overwrite_repair_timestamp
  - Checkbox 24: name=confirm_overwrite_sector
  - Checkbox 25: name=confirm_overwrite_venting_description_2
[DEBUG] Found 2 alert/info messages:
  - Alert 0: ✅ File 'energy_operator_feedback_v003_test_01_good_data.xlsx' staged successfully! 📋 ID: 1002011 🏭 Sector: Energy 📁 Staged as: id_1002011_ts_20250802_214642.json 🔍 Ready for review and confirmation.
  - Alert 1: 📋 Instructions: For fields that would add or overwrite existing data, you must check the Confirm box to approve the change. Unchecked fields will not be updated. Fields with no changes are marked as "Same".
SKIPPED
tests/e2e/test_review_staged.py::test_field_search_filter[chromium] [DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214643.json
[DEBUG] Found 26 confirm-checkboxes:
  - Checkbox 0: name=confirm_overwrite_additional_notes
  - Checkbox 1: name=confirm_overwrite_component_at_source
  - Checkbox 2: name=confirm_overwrite_contact_email
  - Checkbox 3: name=confirm_overwrite_contact_name
  - Checkbox 4: name=confirm_overwrite_contact_phone
  - Checkbox 5: name=confirm_overwrite_equipment_at_source
  - Checkbox 6: name=confirm_overwrite_facility_name
  - Checkbox 7: name=confirm_overwrite_final_repair_concentration
  - Checkbox 8: name=confirm_overwrite_id_incidence
  - Checkbox 9: name=confirm_overwrite_id_message
  - Checkbox 10: name=confirm_overwrite_id_plume
  - Checkbox 11: name=confirm_overwrite_initial_leak_concentration
  - Checkbox 12: name=confirm_overwrite_initial_mitigation_plan
  - Checkbox 13: name=confirm_overwrite_lat_carb
  - Checkbox 14: name=confirm_overwrite_long_carb
  - Checkbox 15: name=confirm_overwrite_method21_date
  - Checkbox 16: name=confirm_overwrite_method21_performed
  - Checkbox 17: name=confirm_overwrite_method21_result
  - Checkbox 18: name=confirm_overwrite_observation_timestamp
  - Checkbox 19: name=confirm_overwrite_ogi_date
  - Checkbox 20: name=confirm_overwrite_ogi_performed
  - Checkbox 21: name=confirm_overwrite_ogi_result
  - Checkbox 22: name=confirm_overwrite_repair_description
  - Checkbox 23: name=confirm_overwrite_repair_timestamp
  - Checkbox 24: name=confirm_overwrite_sector
  - Checkbox 25: name=confirm_overwrite_venting_description_2
[DEBUG] Found 2 alert/info messages:
  - Alert 0: ✅ File 'energy_operator_feedback_v003_test_01_good_data.xlsx' staged successfully! 📋 ID: 1002011 🏭 Sector: Energy 📁 Staged as: id_1002011_ts_20250802_214643.json 🔍 Ready for review and confirmation.
  - Alert 1: 📋 Instructions: For fields that would add or overwrite existing data, you must check the Confirm box to approve the change. Unchecked fields will not be updated. Fields with no changes are marked as "Same".
PASSED
tests/e2e/test_review_staged.py::test_change_summary_card[chromium] [DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214643.json
[DEBUG] Found 26 confirm-checkboxes:
  - Checkbox 0: name=confirm_overwrite_additional_notes
  - Checkbox 1: name=confirm_overwrite_component_at_source
  - Checkbox 2: name=confirm_overwrite_contact_email
  - Checkbox 3: name=confirm_overwrite_contact_name
  - Checkbox 4: name=confirm_overwrite_contact_phone
  - Checkbox 5: name=confirm_overwrite_equipment_at_source
  - Checkbox 6: name=confirm_overwrite_facility_name
  - Checkbox 7: name=confirm_overwrite_final_repair_concentration
  - Checkbox 8: name=confirm_overwrite_id_incidence
  - Checkbox 9: name=confirm_overwrite_id_message
  - Checkbox 10: name=confirm_overwrite_id_plume
  - Checkbox 11: name=confirm_overwrite_initial_leak_concentration
  - Checkbox 12: name=confirm_overwrite_initial_mitigation_plan
  - Checkbox 13: name=confirm_overwrite_lat_carb
  - Checkbox 14: name=confirm_overwrite_long_carb
  - Checkbox 15: name=confirm_overwrite_method21_date
  - Checkbox 16: name=confirm_overwrite_method21_performed
  - Checkbox 17: name=confirm_overwrite_method21_result
  - Checkbox 18: name=confirm_overwrite_observation_timestamp
  - Checkbox 19: name=confirm_overwrite_ogi_date
  - Checkbox 20: name=confirm_overwrite_ogi_performed
  - Checkbox 21: name=confirm_overwrite_ogi_result
  - Checkbox 22: name=confirm_overwrite_repair_description
  - Checkbox 23: name=confirm_overwrite_repair_timestamp
  - Checkbox 24: name=confirm_overwrite_sector
  - Checkbox 25: name=confirm_overwrite_venting_description_2
[DEBUG] Found 2 alert/info messages:
  - Alert 0: ✅ File 'energy_operator_feedback_v003_test_01_good_data.xlsx' staged successfully! 📋 ID: 1002011 🏭 Sector: Energy 📁 Staged as: id_1002011_ts_20250802_214643.json 🔍 Ready for review and confirmation.
  - Alert 1: 📋 Instructions: For fields that would add or overwrite existing data, you must check the Confirm box to approve the change. Unchecked fields will not be updated. Fields with no changes are marked as "Same".
PASSED
tests/e2e/test_review_staged.py::test_cancel_and_save_buttons[chromium] [DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214644.json
[DEBUG] Found 26 confirm-checkboxes:
  - Checkbox 0: name=confirm_overwrite_additional_notes
  - Checkbox 1: name=confirm_overwrite_component_at_source
  - Checkbox 2: name=confirm_overwrite_contact_email
  - Checkbox 3: name=confirm_overwrite_contact_name
  - Checkbox 4: name=confirm_overwrite_contact_phone
  - Checkbox 5: name=confirm_overwrite_equipment_at_source
  - Checkbox 6: name=confirm_overwrite_facility_name
  - Checkbox 7: name=confirm_overwrite_final_repair_concentration
  - Checkbox 8: name=confirm_overwrite_id_incidence
  - Checkbox 9: name=confirm_overwrite_id_message
  - Checkbox 10: name=confirm_overwrite_id_plume
  - Checkbox 11: name=confirm_overwrite_initial_leak_concentration
  - Checkbox 12: name=confirm_overwrite_initial_mitigation_plan
  - Checkbox 13: name=confirm_overwrite_lat_carb
  - Checkbox 14: name=confirm_overwrite_long_carb
  - Checkbox 15: name=confirm_overwrite_method21_date
  - Checkbox 16: name=confirm_overwrite_method21_performed
  - Checkbox 17: name=confirm_overwrite_method21_result
  - Checkbox 18: name=confirm_overwrite_observation_timestamp
  - Checkbox 19: name=confirm_overwrite_ogi_date
  - Checkbox 20: name=confirm_overwrite_ogi_performed
  - Checkbox 21: name=confirm_overwrite_ogi_result
  - Checkbox 22: name=confirm_overwrite_repair_description
  - Checkbox 23: name=confirm_overwrite_repair_timestamp
  - Checkbox 24: name=confirm_overwrite_sector
  - Checkbox 25: name=confirm_overwrite_venting_description_2
[DEBUG] Found 2 alert/info messages:
  - Alert 0: ✅ File 'energy_operator_feedback_v003_test_01_good_data.xlsx' staged successfully! 📋 ID: 1002011 🏭 Sector: Energy 📁 Staged as: id_1002011_ts_20250802_214644.json 🔍 Ready for review and confirmation.
  - Alert 1: 📋 Instructions: For fields that would add or overwrite existing data, you must check the Confirm box to approve the change. Unchecked fields will not be updated. Fields with no changes are marked as "Same".
PASSED
tests/e2e/test_review_staged.py::test_confirm_checkboxes[chromium] [DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214646.json
[DEBUG] Found 26 confirm-checkboxes:
  - Checkbox 0: name=confirm_overwrite_additional_notes
  - Checkbox 1: name=confirm_overwrite_component_at_source
  - Checkbox 2: name=confirm_overwrite_contact_email
  - Checkbox 3: name=confirm_overwrite_contact_name
  - Checkbox 4: name=confirm_overwrite_contact_phone
  - Checkbox 5: name=confirm_overwrite_equipment_at_source
  - Checkbox 6: name=confirm_overwrite_facility_name
  - Checkbox 7: name=confirm_overwrite_final_repair_concentration
  - Checkbox 8: name=confirm_overwrite_id_incidence
  - Checkbox 9: name=confirm_overwrite_id_message
  - Checkbox 10: name=confirm_overwrite_id_plume
  - Checkbox 11: name=confirm_overwrite_initial_leak_concentration
  - Checkbox 12: name=confirm_overwrite_initial_mitigation_plan
  - Checkbox 13: name=confirm_overwrite_lat_carb
  - Checkbox 14: name=confirm_overwrite_long_carb
  - Checkbox 15: name=confirm_overwrite_method21_date
  - Checkbox 16: name=confirm_overwrite_method21_performed
  - Checkbox 17: name=confirm_overwrite_method21_result
  - Checkbox 18: name=confirm_overwrite_observation_timestamp
  - Checkbox 19: name=confirm_overwrite_ogi_date
  - Checkbox 20: name=confirm_overwrite_ogi_performed
  - Checkbox 21: name=confirm_overwrite_ogi_result
  - Checkbox 22: name=confirm_overwrite_repair_description
  - Checkbox 23: name=confirm_overwrite_repair_timestamp
  - Checkbox 24: name=confirm_overwrite_sector
  - Checkbox 25: name=confirm_overwrite_venting_description_2
[DEBUG] Found 2 alert/info messages:
  - Alert 0: ✅ File 'energy_operator_feedback_v003_test_01_good_data.xlsx' staged successfully! 📋 ID: 1002011 🏭 Sector: Energy 📁 Staged as: id_1002011_ts_20250802_214646.json 🔍 Ready for review and confirmation.
  - Alert 1: 📋 Instructions: For fields that would add or overwrite existing data, you must check the Confirm box to approve the change. Unchecked fields will not be updated. Fields with no changes are marked as "Same".
FAILED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/dairy_digester_operator_feedback_v006_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002001/id_1002001_ts_20250802_214647.json
[CHECKBOX DIAGNOSTICS] Found 43 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_able_to_repair', checked=False
  - Checkbox 3: name/id='confirm_overwrite_additional_activities', checked=False
  - Checkbox 4: name/id='confirm_overwrite_additional_manure_management', checked=False
  - Checkbox 5: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 6: name/id='confirm_overwrite_anaerobic_digestion_portion', checked=False
  - Checkbox 7: name/id='confirm_overwrite_bio_biogas_conditioning', checked=False
  - Checkbox 8: name/id='confirm_overwrite_bio_covered_lagoon', checked=False
  - Checkbox 9: name/id='confirm_overwrite_bio_heating', checked=False
  - Checkbox 10: name/id='confirm_overwrite_bio_onsite_fuel', checked=False
  - Checkbox 11: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 12: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 13: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 14: name/id='confirm_overwrite_digester_facility_name', checked=False
  - Checkbox 15: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 16: name/id='confirm_overwrite_emission_cause_notes', checked=False
  - Checkbox 17: name/id='confirm_overwrite_emission_location', checked=False
  - Checkbox 18: name/id='confirm_overwrite_emission_location_notes', checked=False
  - Checkbox 19: name/id='confirm_overwrite_emission_type_fk', checked=False
  - Checkbox 20: name/id='confirm_overwrite_id_arb_ciwqs', checked=False
  - Checkbox 21: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 22: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 23: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 24: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 25: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_instrument', checked=False
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_livestock_facility_name', checked=False
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_manure_daily_spread', checked=False
  - Checkbox 31: name/id='confirm_overwrite_manure_gravity_separator', checked=False
  - Checkbox 32: name/id='confirm_overwrite_manure_pasture', checked=False
  - Checkbox 33: name/id='confirm_overwrite_manure_slatted_floor', checked=False
  - Checkbox 34: name/id='confirm_overwrite_manure_solar_drying', checked=False
  - Checkbox 35: name/id='confirm_overwrite_manure_solid_dry_scrape', checked=False
  - Checkbox 36: name/id='confirm_overwrite_manure_vermifiltration', checked=False
  - Checkbox 37: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 38: name/id='confirm_overwrite_mitigation_timestamp', checked=False
  - Checkbox 39: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 40: name/id='confirm_overwrite_sector', checked=False
  - Checkbox 41: name/id='confirm_overwrite_transport_method', checked=False
  - Checkbox 42: name/id='confirm_overwrite_transport_recipient', checked=False
checking box named: confirm_overwrite_able_to_repair
checking box named: confirm_overwrite_additional_manure_management
checking box named: confirm_overwrite_anaerobic_digestion_portion
checking box named: confirm_overwrite_bio_covered_lagoon
checking box named: confirm_overwrite_bio_onsite_fuel
checking box named: confirm_overwrite_contact_name
checking box named: confirm_overwrite_digester_facility_name
checking box named: confirm_overwrite_emission_cause_notes
checking box named: confirm_overwrite_emission_location_notes
checking box named: confirm_overwrite_id_arb_ciwqs
checking box named: confirm_overwrite_id_message
checking box named: confirm_overwrite_initial_leak_concentration
checking box named: confirm_overwrite_instrument
checking box named: confirm_overwrite_livestock_facility_name
checking box named: confirm_overwrite_manure_daily_spread
checking box named: confirm_overwrite_manure_pasture
checking box named: confirm_overwrite_manure_solar_drying
checking box named: confirm_overwrite_manure_vermifiltration
checking box named: confirm_overwrite_mitigation_timestamp
checking box named: confirm_overwrite_sector
checking box named: confirm_overwrite_transport_recipient
A total of 21 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_able_to_repair', checked=True
  - Checkbox 3: name/id='confirm_overwrite_additional_activities', checked=False
  - Checkbox 4: name/id='confirm_overwrite_additional_manure_management', checked=True
  - Checkbox 5: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 6: name/id='confirm_overwrite_anaerobic_digestion_portion', checked=True
  - Checkbox 7: name/id='confirm_overwrite_bio_biogas_conditioning', checked=False
  - Checkbox 8: name/id='confirm_overwrite_bio_covered_lagoon', checked=True
  - Checkbox 9: name/id='confirm_overwrite_bio_heating', checked=False
  - Checkbox 10: name/id='confirm_overwrite_bio_onsite_fuel', checked=True
  - Checkbox 11: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 12: name/id='confirm_overwrite_contact_name', checked=True
  - Checkbox 13: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 14: name/id='confirm_overwrite_digester_facility_name', checked=True
  - Checkbox 15: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 16: name/id='confirm_overwrite_emission_cause_notes', checked=True
  - Checkbox 17: name/id='confirm_overwrite_emission_location', checked=False
  - Checkbox 18: name/id='confirm_overwrite_emission_location_notes', checked=True
  - Checkbox 19: name/id='confirm_overwrite_emission_type_fk', checked=False
  - Checkbox 20: name/id='confirm_overwrite_id_arb_ciwqs', checked=True
  - Checkbox 21: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 22: name/id='confirm_overwrite_id_message', checked=True
  - Checkbox 23: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 24: name/id='confirm_overwrite_initial_leak_concentration', checked=True
  - Checkbox 25: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_instrument', checked=True
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_livestock_facility_name', checked=True
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_manure_daily_spread', checked=True
  - Checkbox 31: name/id='confirm_overwrite_manure_gravity_separator', checked=False
  - Checkbox 32: name/id='confirm_overwrite_manure_pasture', checked=True
  - Checkbox 33: name/id='confirm_overwrite_manure_slatted_floor', checked=False
  - Checkbox 34: name/id='confirm_overwrite_manure_solar_drying', checked=True
  - Checkbox 35: name/id='confirm_overwrite_manure_solid_dry_scrape', checked=False
  - Checkbox 36: name/id='confirm_overwrite_manure_vermifiltration', checked=True
  - Checkbox 37: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 38: name/id='confirm_overwrite_mitigation_timestamp', checked=True
  - Checkbox 39: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 40: name/id='confirm_overwrite_sector', checked=True
  - Checkbox 41: name/id='confirm_overwrite_transport_method', checked=False
  - Checkbox 42: name/id='confirm_overwrite_transport_recipient', checked=True
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_02_bad_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Dairy Digester) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_02_bad_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Dairy Digester) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/energy_operator_feedback_v003_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/energy_operator_feedback_v003_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214702.json
[CHECKBOX DIAGNOSTICS] Found 28 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 3: name/id='confirm_overwrite_component_at_source', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 7: name/id='confirm_overwrite_equipment_at_source', checked=False
  - Checkbox 8: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 9: name/id='confirm_overwrite_final_repair_concentration', checked=False
  - Checkbox 10: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 11: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 13: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 14: name/id='confirm_overwrite_initial_mitigation_plan', checked=False
  - Checkbox 15: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 16: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 17: name/id='confirm_overwrite_method21_date', checked=False
  - Checkbox 18: name/id='confirm_overwrite_method21_performed', checked=False
  - Checkbox 19: name/id='confirm_overwrite_method21_result', checked=False
  - Checkbox 20: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 21: name/id='confirm_overwrite_ogi_date', checked=False
  - Checkbox 22: name/id='confirm_overwrite_ogi_performed', checked=False
  - Checkbox 23: name/id='confirm_overwrite_ogi_result', checked=False
  - Checkbox 24: name/id='confirm_overwrite_repair_description', checked=False
  - Checkbox 25: name/id='confirm_overwrite_repair_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_sector', checked=False
  - Checkbox 27: name/id='confirm_overwrite_venting_description_2', checked=False
checking box named: confirm_overwrite_additional_notes
checking box named: confirm_overwrite_contact_email
checking box named: confirm_overwrite_contact_phone
checking box named: confirm_overwrite_facility_name
checking box named: confirm_overwrite_id_incidence
checking box named: confirm_overwrite_id_plume
checking box named: confirm_overwrite_initial_mitigation_plan
checking box named: confirm_overwrite_long_carb
checking box named: confirm_overwrite_method21_performed
checking box named: confirm_overwrite_observation_timestamp
checking box named: confirm_overwrite_ogi_performed
checking box named: confirm_overwrite_repair_description
checking box named: confirm_overwrite_sector
A total of 13 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_notes', checked=True
  - Checkbox 3: name/id='confirm_overwrite_component_at_source', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=True
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=True
  - Checkbox 7: name/id='confirm_overwrite_equipment_at_source', checked=False
  - Checkbox 8: name/id='confirm_overwrite_facility_name', checked=True
  - Checkbox 9: name/id='confirm_overwrite_final_repair_concentration', checked=False
  - Checkbox 10: name/id='confirm_overwrite_id_incidence', checked=True
  - Checkbox 11: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_plume', checked=True
  - Checkbox 13: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 14: name/id='confirm_overwrite_initial_mitigation_plan', checked=True
  - Checkbox 15: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 16: name/id='confirm_overwrite_long_carb', checked=True
  - Checkbox 17: name/id='confirm_overwrite_method21_date', checked=False
  - Checkbox 18: name/id='confirm_overwrite_method21_performed', checked=True
  - Checkbox 19: name/id='confirm_overwrite_method21_result', checked=False
  - Checkbox 20: name/id='confirm_overwrite_observation_timestamp', checked=True
  - Checkbox 21: name/id='confirm_overwrite_ogi_date', checked=False
  - Checkbox 22: name/id='confirm_overwrite_ogi_performed', checked=True
  - Checkbox 23: name/id='confirm_overwrite_ogi_result', checked=False
  - Checkbox 24: name/id='confirm_overwrite_repair_description', checked=True
  - Checkbox 25: name/id='confirm_overwrite_repair_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_sector', checked=True
  - Checkbox 27: name/id='confirm_overwrite_venting_description_2', checked=False
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_03_blank.xlsx] Upload failed: 
        This file is missing a valid 'Incidence/Emission ID' (id_incidence). Please add a positive integer id_incidence to your spreadsheet before uploading.
        
      
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_03_blank.xlsx] Upload blocked due to missing/invalid id_incidence as expected.
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_03_blank.xlsx] Refactored upload failed: 
        This file is missing a valid 'Incidence/Emission ID' (id_incidence). Please add a positive integer id_incidence to your spreadsheet before uploading.
        
      
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\dairy_digester_operator_feedback_v006_test_03_blank.xlsx] Refactored staged upload successful: 
          Status: This file is missing a valid 'Incidence/Emission ID' (id_incidence). Please add a positive integer id_incidence to your spreadsheet before uploading.
          
        
PASSED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/generic_operator_feedback_v002_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/generic_operator_feedback_v002_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002021/id_1002021_ts_20250802_214715.json
[CHECKBOX DIAGNOSTICS] Found 30 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=False
  - Checkbox 3: name/id='confirm_overwrite_additional_inspection_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 5: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 7: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_identified_flag_fk', checked=False
  - Checkbox 9: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 10: name/id='confirm_overwrite_id_arb', checked=False
  - Checkbox 11: name/id='confirm_overwrite_id_arb_swis', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 13: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 14: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 15: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 16: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 17: name/id='confirm_overwrite_instrument', checked=False
  - Checkbox 18: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 19: name/id='confirm_overwrite_lat_revised', checked=False
  - Checkbox 20: name/id='confirm_overwrite_leak_cause', checked=False
  - Checkbox 21: name/id='confirm_overwrite_leak_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 23: name/id='confirm_overwrite_long_revised', checked=False
  - Checkbox 24: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 25: name/id='confirm_overwrite_mitigation_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 27: name/id='confirm_overwrite_re_monitored_concentration', checked=False
  - Checkbox 28: name/id='confirm_overwrite_re_monitored_timestamp', checked=False
  - Checkbox 29: name/id='confirm_overwrite_sector', checked=False
checking box named: confirm_overwrite_additional_activities
checking box named: confirm_overwrite_additional_notes
checking box named: confirm_overwrite_contact_name
checking box named: confirm_overwrite_emission_identified_flag_fk
checking box named: confirm_overwrite_id_arb
checking box named: confirm_overwrite_id_incidence
checking box named: confirm_overwrite_id_plume
checking box named: confirm_overwrite_inspection_timestamp
checking box named: confirm_overwrite_lat_carb
checking box named: confirm_overwrite_leak_cause
checking box named: confirm_overwrite_long_carb
checking box named: confirm_overwrite_mitigation_actions
checking box named: confirm_overwrite_observation_timestamp
checking box named: confirm_overwrite_re_monitored_timestamp
A total of 14 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=True
  - Checkbox 3: name/id='confirm_overwrite_additional_inspection_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_additional_notes', checked=True
  - Checkbox 5: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_name', checked=True
  - Checkbox 7: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_identified_flag_fk', checked=True
  - Checkbox 9: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 10: name/id='confirm_overwrite_id_arb', checked=True
  - Checkbox 11: name/id='confirm_overwrite_id_arb_swis', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_incidence', checked=True
  - Checkbox 13: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 14: name/id='confirm_overwrite_id_plume', checked=True
  - Checkbox 15: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 16: name/id='confirm_overwrite_inspection_timestamp', checked=True
  - Checkbox 17: name/id='confirm_overwrite_instrument', checked=False
  - Checkbox 18: name/id='confirm_overwrite_lat_carb', checked=True
  - Checkbox 19: name/id='confirm_overwrite_lat_revised', checked=False
  - Checkbox 20: name/id='confirm_overwrite_leak_cause', checked=True
  - Checkbox 21: name/id='confirm_overwrite_leak_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_long_carb', checked=True
  - Checkbox 23: name/id='confirm_overwrite_long_revised', checked=False
  - Checkbox 24: name/id='confirm_overwrite_mitigation_actions', checked=True
  - Checkbox 25: name/id='confirm_overwrite_mitigation_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_observation_timestamp', checked=True
  - Checkbox 27: name/id='confirm_overwrite_re_monitored_concentration', checked=False
  - Checkbox 28: name/id='confirm_overwrite_re_monitored_timestamp', checked=True
  - Checkbox 29: name/id='confirm_overwrite_sector', checked=False
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v070_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/landfill_operator_feedback_v070_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002031/id_1002031_ts_20250802_214728.json
[CHECKBOX DIAGNOSTICS] Found 39 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=False
  - Checkbox 3: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 7: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_cause_notes', checked=False
  - Checkbox 9: name/id='confirm_overwrite_emission_cause_secondary', checked=False
  - Checkbox 10: name/id='confirm_overwrite_emission_cause_tertiary', checked=False
  - Checkbox 11: name/id='confirm_overwrite_emission_identified_flag_fk', checked=False
  - Checkbox 12: name/id='confirm_overwrite_emission_location', checked=False
  - Checkbox 13: name/id='confirm_overwrite_emission_location_notes', checked=False
  - Checkbox 14: name/id='confirm_overwrite_emission_type_fk', checked=False
  - Checkbox 15: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 16: name/id='confirm_overwrite_id_arb_swis', checked=False
  - Checkbox 17: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 18: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 19: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 20: name/id='confirm_overwrite_included_in_last_lmr', checked=False
  - Checkbox 21: name/id='confirm_overwrite_included_in_last_lmr_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 23: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_instrument', checked=False
  - Checkbox 25: name/id='confirm_overwrite_last_component_leak_monitoring_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_last_surface_monitoring_timestamp', checked=False
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_lat_revised', checked=False
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_long_revised', checked=False
  - Checkbox 31: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 32: name/id='confirm_overwrite_mitigation_timestamp', checked=False
  - Checkbox 33: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 34: name/id='confirm_overwrite_planned_for_next_lmr', checked=False
  - Checkbox 35: name/id='confirm_overwrite_planned_for_next_lmr_description', checked=False
  - Checkbox 36: name/id='confirm_overwrite_re_monitored_concentration', checked=False
  - Checkbox 37: name/id='confirm_overwrite_re_monitored_timestamp', checked=False
  - Checkbox 38: name/id='confirm_overwrite_sector', checked=False
checking box named: confirm_overwrite_additional_activities
checking box named: confirm_overwrite_contact_email
checking box named: confirm_overwrite_contact_phone
checking box named: confirm_overwrite_emission_cause_notes
checking box named: confirm_overwrite_emission_cause_tertiary
checking box named: confirm_overwrite_emission_location
checking box named: confirm_overwrite_emission_type_fk
checking box named: confirm_overwrite_id_arb_swis
checking box named: confirm_overwrite_id_message
checking box named: confirm_overwrite_included_in_last_lmr
checking box named: confirm_overwrite_initial_leak_concentration
checking box named: confirm_overwrite_instrument
checking box named: confirm_overwrite_last_surface_monitoring_timestamp
checking box named: confirm_overwrite_lat_revised
checking box named: confirm_overwrite_long_revised
checking box named: confirm_overwrite_mitigation_timestamp
checking box named: confirm_overwrite_planned_for_next_lmr
checking box named: confirm_overwrite_re_monitored_concentration
checking box named: confirm_overwrite_sector
A total of 19 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=True
  - Checkbox 3: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=True
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=True
  - Checkbox 7: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_cause_notes', checked=True
  - Checkbox 9: name/id='confirm_overwrite_emission_cause_secondary', checked=False
  - Checkbox 10: name/id='confirm_overwrite_emission_cause_tertiary', checked=True
  - Checkbox 11: name/id='confirm_overwrite_emission_identified_flag_fk', checked=False
  - Checkbox 12: name/id='confirm_overwrite_emission_location', checked=True
  - Checkbox 13: name/id='confirm_overwrite_emission_location_notes', checked=False
  - Checkbox 14: name/id='confirm_overwrite_emission_type_fk', checked=True
  - Checkbox 15: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 16: name/id='confirm_overwrite_id_arb_swis', checked=True
  - Checkbox 17: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 18: name/id='confirm_overwrite_id_message', checked=True
  - Checkbox 19: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 20: name/id='confirm_overwrite_included_in_last_lmr', checked=True
  - Checkbox 21: name/id='confirm_overwrite_included_in_last_lmr_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_initial_leak_concentration', checked=True
  - Checkbox 23: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_instrument', checked=True
  - Checkbox 25: name/id='confirm_overwrite_last_component_leak_monitoring_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_last_surface_monitoring_timestamp', checked=True
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_lat_revised', checked=True
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_long_revised', checked=True
  - Checkbox 31: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 32: name/id='confirm_overwrite_mitigation_timestamp', checked=True
  - Checkbox 33: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 34: name/id='confirm_overwrite_planned_for_next_lmr', checked=True
  - Checkbox 35: name/id='confirm_overwrite_planned_for_next_lmr_description', checked=False
  - Checkbox 36: name/id='confirm_overwrite_re_monitored_concentration', checked=True
  - Checkbox 37: name/id='confirm_overwrite_re_monitored_timestamp', checked=False
  - Checkbox 38: name/id='confirm_overwrite_sector', checked=True
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data_update.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data_update.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data_update.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_01_good_data_update.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v071_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/landfill_operator_feedback_v071_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002041/id_1002041_ts_20250802_214742.json
[CHECKBOX DIAGNOSTICS] Found 39 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=False
  - Checkbox 3: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 7: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_cause_notes', checked=False
  - Checkbox 9: name/id='confirm_overwrite_emission_cause_secondary', checked=False
  - Checkbox 10: name/id='confirm_overwrite_emission_cause_tertiary', checked=False
  - Checkbox 11: name/id='confirm_overwrite_emission_identified_flag_fk', checked=False
  - Checkbox 12: name/id='confirm_overwrite_emission_location', checked=False
  - Checkbox 13: name/id='confirm_overwrite_emission_location_notes', checked=False
  - Checkbox 14: name/id='confirm_overwrite_emission_type_fk', checked=False
  - Checkbox 15: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 16: name/id='confirm_overwrite_id_arb_swis', checked=False
  - Checkbox 17: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 18: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 19: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 20: name/id='confirm_overwrite_included_in_last_lmr', checked=False
  - Checkbox 21: name/id='confirm_overwrite_included_in_last_lmr_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 23: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_instrument', checked=False
  - Checkbox 25: name/id='confirm_overwrite_last_component_leak_monitoring_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_last_surface_monitoring_timestamp', checked=False
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_lat_revised', checked=False
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_long_revised', checked=False
  - Checkbox 31: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 32: name/id='confirm_overwrite_mitigation_timestamp', checked=False
  - Checkbox 33: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 34: name/id='confirm_overwrite_planned_for_next_lmr', checked=False
  - Checkbox 35: name/id='confirm_overwrite_planned_for_next_lmr_description', checked=False
  - Checkbox 36: name/id='confirm_overwrite_re_monitored_concentration', checked=False
  - Checkbox 37: name/id='confirm_overwrite_re_monitored_timestamp', checked=False
  - Checkbox 38: name/id='confirm_overwrite_sector', checked=False
checking box named: confirm_overwrite_additional_activities
checking box named: confirm_overwrite_contact_email
checking box named: confirm_overwrite_contact_phone
checking box named: confirm_overwrite_emission_cause_notes
checking box named: confirm_overwrite_emission_cause_tertiary
checking box named: confirm_overwrite_emission_location
checking box named: confirm_overwrite_emission_type_fk
checking box named: confirm_overwrite_id_arb_swis
checking box named: confirm_overwrite_id_message
checking box named: confirm_overwrite_included_in_last_lmr
checking box named: confirm_overwrite_initial_leak_concentration
checking box named: confirm_overwrite_instrument
checking box named: confirm_overwrite_last_surface_monitoring_timestamp
checking box named: confirm_overwrite_lat_revised
checking box named: confirm_overwrite_long_revised
checking box named: confirm_overwrite_mitigation_timestamp
checking box named: confirm_overwrite_planned_for_next_lmr
checking box named: confirm_overwrite_re_monitored_concentration
checking box named: confirm_overwrite_sector
A total of 19 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_activities', checked=True
  - Checkbox 3: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 4: name/id='confirm_overwrite_contact_email', checked=True
  - Checkbox 5: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_phone', checked=True
  - Checkbox 7: name/id='confirm_overwrite_emission_cause', checked=False
  - Checkbox 8: name/id='confirm_overwrite_emission_cause_notes', checked=True
  - Checkbox 9: name/id='confirm_overwrite_emission_cause_secondary', checked=False
  - Checkbox 10: name/id='confirm_overwrite_emission_cause_tertiary', checked=True
  - Checkbox 11: name/id='confirm_overwrite_emission_identified_flag_fk', checked=False
  - Checkbox 12: name/id='confirm_overwrite_emission_location', checked=True
  - Checkbox 13: name/id='confirm_overwrite_emission_location_notes', checked=False
  - Checkbox 14: name/id='confirm_overwrite_emission_type_fk', checked=True
  - Checkbox 15: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 16: name/id='confirm_overwrite_id_arb_swis', checked=True
  - Checkbox 17: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 18: name/id='confirm_overwrite_id_message', checked=True
  - Checkbox 19: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 20: name/id='confirm_overwrite_included_in_last_lmr', checked=True
  - Checkbox 21: name/id='confirm_overwrite_included_in_last_lmr_description', checked=False
  - Checkbox 22: name/id='confirm_overwrite_initial_leak_concentration', checked=True
  - Checkbox 23: name/id='confirm_overwrite_inspection_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_instrument', checked=True
  - Checkbox 25: name/id='confirm_overwrite_last_component_leak_monitoring_timestamp', checked=False
  - Checkbox 26: name/id='confirm_overwrite_last_surface_monitoring_timestamp', checked=True
  - Checkbox 27: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 28: name/id='confirm_overwrite_lat_revised', checked=True
  - Checkbox 29: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 30: name/id='confirm_overwrite_long_revised', checked=True
  - Checkbox 31: name/id='confirm_overwrite_mitigation_actions', checked=False
  - Checkbox 32: name/id='confirm_overwrite_mitigation_timestamp', checked=True
  - Checkbox 33: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 34: name/id='confirm_overwrite_planned_for_next_lmr', checked=True
  - Checkbox 35: name/id='confirm_overwrite_planned_for_next_lmr_description', checked=False
  - Checkbox 36: name/id='confirm_overwrite_re_monitored_concentration', checked=True
  - Checkbox 37: name/id='confirm_overwrite_re_monitored_timestamp', checked=False
  - Checkbox 38: name/id='confirm_overwrite_sector', checked=True
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_02_bad_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_02_bad_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Energy) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\energy_operator_feedback_v003_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] clear_test_data called with page: <Page url='about:blank'>
[DEBUG] Test data cleared via UI at /delete_testing_range
Running incremental upload test for: feedback_forms/testing_versions/standard/oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx
[DEBUG] After upload, page.url = http://127.0.0.1:2113/review_staged/1002051/id_1002051_ts_20250802_214756.json
[CHECKBOX DIAGNOSTICS] Found 33 checkboxes on the page:
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='selectAllConfirmations', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_notes', checked=False
  - Checkbox 3: name/id='confirm_overwrite_component_at_source', checked=False
  - Checkbox 4: name/id='confirm_overwrite_component_other_description', checked=False
  - Checkbox 5: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_name', checked=False
  - Checkbox 7: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 8: name/id='confirm_overwrite_equipment_at_source', checked=False
  - Checkbox 9: name/id='confirm_overwrite_equipment_other_description', checked=False
  - Checkbox 10: name/id='confirm_overwrite_facility_name', checked=False
  - Checkbox 11: name/id='confirm_overwrite_final_repair_concentration', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_arb_eggrt', checked=False
  - Checkbox 13: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 14: name/id='confirm_overwrite_id_message', checked=False
  - Checkbox 15: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 16: name/id='confirm_overwrite_initial_leak_concentration', checked=False
  - Checkbox 17: name/id='confirm_overwrite_initial_mitigation_plan', checked=False
  - Checkbox 18: name/id='confirm_overwrite_lat_carb', checked=False
  - Checkbox 19: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 20: name/id='confirm_overwrite_method21_date', checked=False
  - Checkbox 21: name/id='confirm_overwrite_method21_performed', checked=False
  - Checkbox 22: name/id='confirm_overwrite_method21_result', checked=False
  - Checkbox 23: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_ogi_date', checked=False
  - Checkbox 25: name/id='confirm_overwrite_ogi_performed', checked=False
  - Checkbox 26: name/id='confirm_overwrite_ogi_result', checked=False
  - Checkbox 27: name/id='confirm_overwrite_repair_description', checked=False
  - Checkbox 28: name/id='confirm_overwrite_repair_timestamp', checked=False
  - Checkbox 29: name/id='confirm_overwrite_sector', checked=False
  - Checkbox 30: name/id='confirm_overwrite_venting_description_1', checked=False
  - Checkbox 31: name/id='confirm_overwrite_venting_description_2', checked=False
  - Checkbox 32: name/id='confirm_overwrite_venting_exclusion', checked=False
checking box named: confirm_overwrite_additional_notes
checking box named: confirm_overwrite_component_other_description
checking box named: confirm_overwrite_contact_name
checking box named: confirm_overwrite_equipment_at_source
checking box named: confirm_overwrite_facility_name
checking box named: confirm_overwrite_id_arb_eggrt
checking box named: confirm_overwrite_id_message
checking box named: confirm_overwrite_initial_leak_concentration
checking box named: confirm_overwrite_lat_carb
checking box named: confirm_overwrite_method21_date
checking box named: confirm_overwrite_method21_result
checking box named: confirm_overwrite_ogi_date
checking box named: confirm_overwrite_ogi_result
checking box named: confirm_overwrite_repair_timestamp
checking box named: confirm_overwrite_venting_description_1
checking box named: confirm_overwrite_venting_exclusion
A total of 16 check boxes were selected.
  - Checkbox 0: name/id='hideUnchangedFields', checked=False
  - Checkbox 1: name/id='checkbox_1', checked=False
  - Checkbox 2: name/id='confirm_overwrite_additional_notes', checked=True
  - Checkbox 3: name/id='confirm_overwrite_component_at_source', checked=False
  - Checkbox 4: name/id='confirm_overwrite_component_other_description', checked=True
  - Checkbox 5: name/id='confirm_overwrite_contact_email', checked=False
  - Checkbox 6: name/id='confirm_overwrite_contact_name', checked=True
  - Checkbox 7: name/id='confirm_overwrite_contact_phone', checked=False
  - Checkbox 8: name/id='confirm_overwrite_equipment_at_source', checked=True
  - Checkbox 9: name/id='confirm_overwrite_equipment_other_description', checked=False
  - Checkbox 10: name/id='confirm_overwrite_facility_name', checked=True
  - Checkbox 11: name/id='confirm_overwrite_final_repair_concentration', checked=False
  - Checkbox 12: name/id='confirm_overwrite_id_arb_eggrt', checked=True
  - Checkbox 13: name/id='confirm_overwrite_id_incidence', checked=False
  - Checkbox 14: name/id='confirm_overwrite_id_message', checked=True
  - Checkbox 15: name/id='confirm_overwrite_id_plume', checked=False
  - Checkbox 16: name/id='confirm_overwrite_initial_leak_concentration', checked=True
  - Checkbox 17: name/id='confirm_overwrite_initial_mitigation_plan', checked=False
  - Checkbox 18: name/id='confirm_overwrite_lat_carb', checked=True
  - Checkbox 19: name/id='confirm_overwrite_long_carb', checked=False
  - Checkbox 20: name/id='confirm_overwrite_method21_date', checked=True
  - Checkbox 21: name/id='confirm_overwrite_method21_performed', checked=False
  - Checkbox 22: name/id='confirm_overwrite_method21_result', checked=True
  - Checkbox 23: name/id='confirm_overwrite_observation_timestamp', checked=False
  - Checkbox 24: name/id='confirm_overwrite_ogi_date', checked=True
  - Checkbox 25: name/id='confirm_overwrite_ogi_performed', checked=False
  - Checkbox 26: name/id='confirm_overwrite_ogi_result', checked=True
  - Checkbox 27: name/id='confirm_overwrite_repair_description', checked=False
  - Checkbox 28: name/id='confirm_overwrite_repair_timestamp', checked=True
  - Checkbox 29: name/id='confirm_overwrite_sector', checked=False
  - Checkbox 30: name/id='confirm_overwrite_venting_description_1', checked=True
  - Checkbox 31: name/id='confirm_overwrite_venting_description_2', checked=False
  - Checkbox 32: name/id='confirm_overwrite_venting_exclusion', checked=True
FAILED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_01_good_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Generic) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_01_good_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Generic) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_02_bad_data.xlsx] Upload successful: 
          
             Read-Only View
          
          
            This sector (Generic) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_02_bad_data.xlsx] Refactored upload successful: 
          
             Read-Only View
          
          
            This sector (Generic) does not currently have an interactive web form associated
            with it.
            The data is displayed below in read-only format.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\generic_operator_feedback_v002_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_01_good_data.xlsx] Upload successful: 
          ✅ All changes have been saved successfully! No validation warnings or errors found.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_01_good_data.xlsx] Refactored upload successful: 
          ✅ All changes have been saved successfully! No validation warnings or errors found.
          
        
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_02_bad_data.xlsx] Upload failed: 

       18 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_02_bad_data.xlsx] Refactored upload failed: 

       18 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v070_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_01_good_data.xlsx] Upload failed: 

       1 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_01_good_data.xlsx] Refactored upload failed: 

       1 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_02_bad_data.xlsx] Upload failed: 

       20 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_02_bad_data.xlsx] Refactored upload failed: 

       20 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\landfill_operator_feedback_v071_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] Upload failed: 

       1 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] Refactored upload failed: 

       1 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestExcelUpload::test_file_upload_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_02_bad_data.xlsx] Upload failed: 

       9 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::test_excel_upload_deep_backend_validation[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_02_bad_data.xlsx] PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_02_bad_data.xlsx] Refactored upload failed: 

       9 validation error(s) was/were detected.
      Please correct entry errors where possible.
      
    
PASSED
tests/e2e/test_excel_upload_workflows.py::TestRefactoredRoutes::test_upload_file_staged_refactored_workflow[chromium-feedback_forms\\testing_versions\\standard\\oil_and_gas_operator_feedback_v070_test_02_bad_data.xlsx] Refactored staged upload failed: 
      ⚠️ Important: Please close any files before uploading. Files that are still open may be
      locked and cannot be uploaded. If you try to upload a file that is locked, you will receive an error message
      "This site can't be reached".
    
PASSED
tests/e2e/test_playwright_setup.py::test_playwright_setup SKIPPED (S...)

================================== FAILURES ===================================
___________________ test_list_uploads_file_links[chromium] ____________________

page = <Page url='http://127.0.0.1:2113/list_uploads'>

    @pytest.mark.e2e
    def test_list_uploads_file_links(page: Page):
        """
        E2E: Checks that file links are present and valid in the uploaded files table.
        """
>       navigate_and_wait_for_ready(page, f"{BASE_URL}/list_uploads")

tests\e2e\test_list_uploads.py:42: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
tests\e2e\e2e_helpers.py:50: in navigate_and_wait_for_ready
    page.goto(url, wait_until="load")
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\sync_api\_generated.py:9019: in goto
    self._sync(
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_page.py:556: in goto
    return await self._main_frame.goto(**locals_to_params(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_frame.py:153: in goto
    await self._channel.send(
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_connection.py:69: in send
    return await self._connection.wrap_api_call(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <playwright._impl._connection.Connection object at 0x00000266A0CDCB50>
cb = <function Channel.send.<locals>.<lambda> at 0x00000266A1A11EE0>
is_internal = False, title = None

    async def wrap_api_call(
        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None
    ) -> Any:
        if self._api_zone.get():
            return await cb()
        task = asyncio.current_task(self._loop)
        st: List[inspect.FrameInfo] = getattr(
            task, "__pw_stack__", None
        ) or inspect.stack(0)
    
        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)
        self._api_zone.set(parsed_st)
        try:
            return await cb()
        except Exception as error:
>           raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
E           playwright._impl._errors.TimeoutError: Page.goto: Timeout 30000ms exceeded.
E           Call log:
E             - navigating to "http://127.0.0.1:2113/list_uploads", waiting until "load"

C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_connection.py:558: TimeoutError
______________________ test_confirm_checkboxes[chromium] ______________________

page = <Page url='http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214646.json'>
upload_and_stage_file = 'http://127.0.0.1:2113/review_staged/1002011/id_1002011_ts_20250802_214646.json'

    @pytest.mark.e2e
    def test_confirm_checkboxes(page: Page, upload_and_stage_file):
        """
        E2E: .confirm-checkbox elements can be checked/unchecked and update the form.
        """
        navigate_and_wait_for_ready(page, upload_and_stage_file)
    
        # Wait for checkboxes to be available
        checkboxes = page.locator(".confirm-checkbox")
    
        # Check if there are any confirm checkboxes
        if checkboxes.count() == 0:
            # This is a valid scenario - no fields need confirmation
            print("No confirm checkboxes found - this is valid when all fields are the same or it's a new record")
            return
    
        # Wait for at least one checkbox to be visible
>       expect(page.locator(".confirm-checkbox")).to_be_visible(timeout=10000)

tests\e2e\test_review_staged.py:210: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_locator.py:726: in _expect
    return await self._frame._expect(self._selector, expression, options, title)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_frame.py:189: in _expect
    result = await self._channel.send_return_as_dict(
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_connection.py:83: in send_return_as_dict
    return await self._connection.wrap_api_call(
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

self = <playwright._impl._connection.Connection object at 0x00000266A0CDCB50>
cb = <function Channel.send_return_as_dict.<locals>.<lambda> at 0x00000266A1D5E020>
is_internal = False, title = 'Expect "to_be_visible"'

    async def wrap_api_call(
        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None
    ) -> Any:
        if self._api_zone.get():
            return await cb()
        task = asyncio.current_task(self._loop)
        st: List[inspect.FrameInfo] = getattr(
            task, "__pw_stack__", None
        ) or inspect.stack(0)
    
        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)
        self._api_zone.set(parsed_st)
        try:
            return await cb()
        except Exception as error:
>           raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
E           playwright._impl._errors.Error: LocatorAssertions.to_be_visible: Error: strict mode violation: locator(".confirm-checkbox") resolved to 26 elements:
E               1) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_additional_notes"/> aka locator("input[name=\"confirm_overwrite_additional_notes\"]")
E               2) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_component_at_source"/> aka locator("input[name=\"confirm_overwrite_component_at_source\"]")
E               3) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_contact_email"/> aka locator("input[name=\"confirm_overwrite_contact_email\"]")
E               4) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_contact_name"/> aka locator("input[name=\"confirm_overwrite_contact_name\"]")
E               5) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_contact_phone"/> aka locator("input[name=\"confirm_overwrite_contact_phone\"]")
E               6) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_equipment_at_source"/> aka locator("input[name=\"confirm_overwrite_equipment_at_source\"]")
E               7) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_facility_name"/> aka locator("input[name=\"confirm_overwrite_facility_name\"]")
E               8) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_final_repair_concentration"/> aka locator("input[name=\"confirm_overwrite_final_repair_concentration\"]")
E               9) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_id_incidence"/> aka locator("input[name=\"confirm_overwrite_id_incidence\"]")
E               10) <input type="checkbox" class="confirm-checkbox" name="confirm_overwrite_id_message"/> aka locator("input[name=\"confirm_overwrite_id_message\"]")
E               ...
E           
E           Call log:
E             - Expect "to_be_visible" with timeout 10000ms
E             - waiting for locator(".confirm-checkbox")

C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\playwright\_impl\_connection.py:558: Error
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/dairy_digester_operator_feedback_v006_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/dairy_digester_operator_feedback_v006_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/energy_operator_feedback_v003_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/energy_operator_feedback_v003_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/generic_operator_feedback_v002_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/generic_operator_feedback_v002_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v070_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/landfill_operator_feedback_v070_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v071_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/landfill_operator_feedback_v071_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
_ test_incremental_upload[chromium-feedback_forms/testing_versions/standard/oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx] _

page = <Page url='http://127.0.0.1:2113/upload_staged'>, clear_test_data = None
test_file = 'feedback_forms/testing_versions/standard/oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx'

    @pytest.mark.e2e
    @pytest.mark.parametrize("test_file", TEST_FILES)
    def test_incremental_upload(page: Page, clear_test_data, test_file):
        """
        E2E: Simulate the incremental upload/review/acceptance workflow for all main 'good' test spreadsheets.
    
        For each test file:
          1. Clear all test data in the relevant id_incidence range.
          2. Upload the test spreadsheet.
          3. Confirm (check) every other field, then save.
          4. Re-upload the same spreadsheet, confirm the remaining fields, then save.
          5. Re-upload again and verify that no confirmable checkboxes remain (all are accepted).
        This test matches the manual workflow and prints diagnostics for debugging.
        Set save_screenshots=False to save screenshots at each step.
        """
        print(f"Running incremental upload test for: {test_file}")
        # Step 1: Go to the staged upload page
        navigate_and_wait_for_ready(page, f"{BASE_URL}/upload_staged")
        if save_screenshots:
            page.screenshot(path=f"screenshot_01_upload_staged_{Path(test_file).stem}.png")
    
        # Step 2. Simulate file upload
        file_input = page.locator("input[type='file']")
        if not Path(test_file).exists():
            pytest.skip(f"Test file {test_file} not found.")
        with page.expect_navigation():
            file_input.set_input_files(test_file)
        # Wait for specific element instead of network idle
        expect(page.locator("input.confirm-checkbox").first).to_be_visible()
    
        # Step 3. Print staged url and screenshot
        print(f"[DEBUG] After upload, page.url = {page.url}")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_01_{Path(test_file).stem}.png")
    
        # Step 4. Find all checkboxes on the page
        all_checkboxes = page.locator("input[type='checkbox']")
        total = all_checkboxes.count()
        print(f"[CHECKBOX DIAGNOSTICS] Found {total} checkboxes on the page:")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 5. Set every other unchecked box to checked
        new_checks = 0
        select_next_unchecked = True
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            if name not in ['hideUnchangedFields', 'selectAllConfirmations']:
                if not checked:
                    if select_next_unchecked:
                        try:
                            # Ensure checkbox is visible and not covered
                            cb.scroll_into_view_if_needed()
                            expect(cb).to_be_visible()
                            expect(cb).to_be_enabled()
                            cb.set_checked(True)
                            expect(cb).to_be_checked()
                            new_checks += 1
                            print(f"checking box named: {name}")
                        except Exception as e:
                            print(f"Failed to check checkbox {name}: {e}")
                            continue
                    select_next_unchecked = not select_next_unchecked
        print(f"A total of {new_checks} check boxes were selected.")
        if save_screenshots:
            page.screenshot(path=f"screenshot_02_review_staged_02_{Path(test_file).stem}.png")
    
        # Step 6. Ensure there are enough checkboxes to use this test properly
        if new_checks < 2:
            pytest.skip(f"Test skipped because at least two new checks required for test.")
        for i in range(total):
            cb = all_checkboxes.nth(i)
            name = cb.get_attribute("name") or cb.get_attribute("id") or f"checkbox_{i}"
            checked = cb.is_checked()
            print(f"  - Checkbox {i}: name/id='{name}', checked={checked}")
    
        # Step 7. Click Save Changes and wait for navigation
        save_btn = page.locator("button.btn-success, button[type='submit']")
        with page.expect_navigation():
            save_btn.click()
        # Wait for specific element instead of network idle
>       expect(page.locator("h2")).to_contain_text("Upload Staged")
E       AssertionError: Locator expected to contain text 'Upload Staged'
E       Actual value: 📋 Upload & Review (Staged Workflow) 
E       Call log:
E         - Expect "to_contain_text" with timeout 5000ms
E         - waiting for locator("h2")
E           9 × locator resolved to <h2>📋 Upload & Review (Staged Workflow)</h2>
E             - unexpected value "📋 Upload & Review (Staged Workflow)"

tests\e2e\test_review_staged.py:341: AssertionError
=========================== short test summary info ===========================
FAILED tests/e2e/test_list_uploads.py::test_list_uploads_file_links[chromium]
FAILED tests/e2e/test_review_staged.py::test_confirm_checkboxes[chromium] - p...
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/dairy_digester_operator_feedback_v006_test_01_good_data.xlsx]
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/energy_operator_feedback_v003_test_01_good_data.xlsx]
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/generic_operator_feedback_v002_test_01_good_data.xlsx]
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v070_test_01_good_data.xlsx]
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/landfill_operator_feedback_v071_test_01_good_data.xlsx]
FAILED tests/e2e/test_review_staged.py::test_incremental_upload[chromium-feedback_forms/testing_versions/standard/oil_and_gas_operator_feedback_v070_test_01_good_data.xlsx]
============ 8 failed, 113 passed, 5 skipped in 279.49s (0:04:39) =============
