+2025-06-23 16:33:19.200 | DEBUG    | app_logger       | user:anonymous | 319   | routes.py            | upload_file_staged route called.
+2025-06-23 16:33:19.201 | DEBUG    | app_logger       | user:anonymous | 329   | routes.py            | Request received with files: [], upload_folder=C:\tony_local\pycharm\feedback_portal\portal_uploads
+2025-06-23 16:33:19.203 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /upload_staged HTTP/1.1" 200 -
+2025-06-23 16:33:19.235 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/css/portal_styles_01.css HTTP/1.1" 304 -
+2025-06-23 16:33:19.246 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/js/confirm_delete.js HTTP/1.1" 304 -
+2025-06-23 16:33:19.246 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/images/upload_icon.png HTTP/1.1" 304 -
+2025-06-23 16:33:19.246 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/css/upload.css HTTP/1.1" 304 -
+2025-06-23 16:33:19.249 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/images/carb_logo_01.jpg HTTP/1.1" 304 -
+2025-06-23 16:33:19.250 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:19] "GET /static/js/upload.js HTTP/1.1" 304 -
+2025-06-23 16:33:25.954 | DEBUG    | app_logger       | user:anonymous | 319   | routes.py            | upload_file_staged route called.
+2025-06-23 16:33:25.957 | DEBUG    | app_logger       | user:anonymous | 329   | routes.py            | Request received with files: ['file'], upload_folder=C:\tony_local\pycharm\feedback_portal\portal_uploads
+2025-06-23 16:33:25.957 | DEBUG    | app_logger       | user:anonymous | 339   | routes.py            | Received uploaded file: landfill_operator_feedback_v070_completed_01.xlsx
+2025-06-23 16:33:25.957 | DEBUG    | app_logger       | user:anonymous | 377   | db_ingest_util.py    | upload_and_stage_only() called with request_file=<FileStorage: 'landfill_operator_feedback_v070_completed_01.xlsx' ('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')>
+2025-06-23 16:33:25.957 | DEBUG    | app_logger       | user:anonymous | 48    | web_html.py          | Attempting to upload request_file.filename='landfill_operator_feedback_v070_completed_01.xlsx'
+2025-06-23 16:33:25.958 | DEBUG    | app_logger       | user:anonymous | 50    | web_html.py          | Upload single file as: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.xlsx
+2025-06-23 16:33:25.960 | DEBUG    | app_logger       | user:anonymous | 39    | file_upload_util.py  | Adding uploaded file to upload table: file_name=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.xlsx')
+2025-06-23 16:33:26.156 | DEBUG    | app_logger       | user:anonymous | 47    | file_upload_util.py  | model_uploaded_file=<Uploaded File: 563, Path: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.xlsx, Description: Staged only (no DB write), Status: File Added>
+2025-06-23 16:33:26.156 | DEBUG    | app_logger       | user:anonymous | 427   | xl_parse.py          | Excel upload detected: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.xlsx
+2025-06-23 16:33:26.156 | DEBUG    | app_logger       | user:anonymous | 170   | xl_parse.py          | parse_xl_with_schema_dict() called with xl_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.xlsx'), schema_map=None
+2025-06-23 16:33:26.228 | DEBUG    | app_logger       | user:anonymous | 187   | xl_parse.py          | metadata tab detected in Excel file
+2025-06-23 16:33:26.228 | DEBUG    | app_logger       | user:anonymous | 194   | xl_parse.py          | Schema tab detected in Excel file
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 229   | xl_parse.py          | Extracting data from 'Feedback Form', using the formatting schema 'landfill_v01_00'
+2025-06-23 16:33:26.229 | WARNING  | app_logger       | user:anonymous | 253   | xl_parse.py          | Warning: <lat_carb> value at <$D$26> is <32> and is of type <<class 'int'>> whereas it should be of type <<class 'float'>>.  Attempting to convert the value to the correct type
+2025-06-23 16:33:26.229 | INFO     | app_logger       | user:anonymous | 268   | xl_parse.py          | Type conversion successful.  value is now <32.0> with type: <<class 'float'>>
+2025-06-23 16:33:26.229 | WARNING  | app_logger       | user:anonymous | 253   | xl_parse.py          | Warning: <long_carb> value at <$D$27> is <33> and is of type <<class 'int'>> whereas it should be of type <<class 'float'>>.  Attempting to convert the value to the correct type
+2025-06-23 16:33:26.229 | INFO     | app_logger       | user:anonymous | 268   | xl_parse.py          | Type conversion successful.  value is now <33.0> with type: <<class 'float'>>
+2025-06-23 16:33:26.229 | WARNING  | app_logger       | user:anonymous | 253   | xl_parse.py          | Warning: <lat_revised> value at <$D$48> is <44> and is of type <<class 'int'>> whereas it should be of type <<class 'float'>>.  Attempting to convert the value to the correct type
+2025-06-23 16:33:26.229 | INFO     | app_logger       | user:anonymous | 268   | xl_parse.py          | Type conversion successful.  value is now <44.0> with type: <<class 'float'>>
+2025-06-23 16:33:26.229 | WARNING  | app_logger       | user:anonymous | 253   | xl_parse.py          | Warning: <long_revised> value at <$D$49> is <45> and is of type <<class 'int'>> whereas it should be of type <<class 'float'>>.  Attempting to convert the value to the correct type
+2025-06-23 16:33:26.229 | INFO     | app_logger       | user:anonymous | 268   | xl_parse.py          | Type conversion successful.  value is now <45.0> with type: <<class 'float'>>
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 283   | xl_parse.py          | Initial spreadsheet extraction of 'Feedback Form' yields {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 287   | xl_parse.py          | Final corrected spreadsheet extraction of 'Feedback Form' yields {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 430   | xl_parse.py          | Parsed Excel to dict: dict_keys(['metadata', 'schemas', 'tab_contents'])
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 432   | xl_parse.py          | Saving Excel-derived JSON as: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 169   | json.py              | json_save_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None, metadata=None, data={'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}}}
+2025-06-23 16:33:26.229 | DEBUG    | app_logger       | user:anonymous | 137   | json.py              | json_save() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None, data={'_metadata_': {'File created at': '2025-06-23T23:33:26.229794+00:00', 'Serialized with': 'utils.json.json_save_with_meta', 'Deserialize with': 'utils.json.json_load_with_meta'}, '_data_': {'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}}}}
+2025-06-23 16:33:26.230 | DEBUG    | app_logger       | user:anonymous | 144   | json.py              | JSON saved to file: 'C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'.
+2025-06-23 16:33:26.231 | DEBUG    | app_logger       | user:anonymous | 317   | db_ingest_util.py    | File converted or passed through to JSON: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json
+2025-06-23 16:33:26.231 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None
+2025-06-23 16:33:26.231 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None
+2025-06-23 16:33:26.248 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None
+2025-06-23 16:33:26.248 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_completed_01_ts_2025_06_23_23_33_25.json'), json_options=None
+2025-06-23 16:33:26.249 | INFO     | app_logger       | user:anonymous | 60    | db_introspection_util.py | [get_ensured_row] ENTRY: table_name=incidences, primary_key_name=id_incidence, id_=1002, add_to_session=False
+2025-06-23 16:33:26.249 | INFO     | app_logger       | user:anonymous | 68    | db_introspection_util.py | [get_ensured_row] Table class: <class 'sqlalchemy.ext.automap.incidences'>, Session: True
+2025-06-23 16:33:26.249 | INFO     | app_logger       | user:anonymous | 71    | db_introspection_util.py | [get_ensured_row] Attempting to retrieve existing row with id_incidence=1002
+2025-06-23 16:33:26.291 | INFO     | app_logger       | user:anonymous | 85    | db_introspection_util.py | [get_ensured_row] Found existing row: <sqlalchemy.ext.automap.incidences object at 0x0000024310BDF550>, model.id_incidence=1002
+2025-06-23 16:33:26.291 | INFO     | app_logger       | user:anonymous | 106   | db_introspection_util.py | [get_ensured_row] RETURN: model=<sqlalchemy.ext.automap.incidences object at 0x0000024310BDF550>, id_=1002, is_new_row=False
+2025-06-23 16:33:26.291 | INFO     | app_logger       | user:anonymous | 111   | db_introspection_util.py | [get_ensured_row] Model session check: True, Model in session: True
+2025-06-23 16:33:26.292 | DEBUG    | app_logger       | user:anonymous | 169   | json.py              | json_save_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1002_ts_20250623_163326.json'), json_options=None, metadata={'base_misc_json': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': '2025-05-14T07:00:00+00:00', 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': '2005-02-05T08:00:00+00:00', 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': '2025-05-01T07:00:00+00:00', 're_monitored_timestamp': '2025-05-02T07:00:00+00:00', 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': '2025-01-01T08:00:00+00:00', 'last_component_leak_monitoring_timestamp': '2025-01-02T08:00:00+00:00', 'additional_notes': 'My Q30.  Additional notes or', 'sector': 'Landfill', 'carb_notes': ''}}, data={'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}}}
+2025-06-23 16:33:26.293 | DEBUG    | app_logger       | user:anonymous | 137   | json.py              | json_save() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1002_ts_20250623_163326.json'), json_options=None, data={'_metadata_': {'base_misc_json': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': '2025-05-14T07:00:00+00:00', 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': '2005-02-05T08:00:00+00:00', 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': '2025-05-01T07:00:00+00:00', 're_monitored_timestamp': '2025-05-02T07:00:00+00:00', 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': '2025-01-01T08:00:00+00:00', 'last_component_leak_monitoring_timestamp': '2025-01-02T08:00:00+00:00', 'additional_notes': 'My Q30.  Additional notes or', 'sector': 'Landfill', 'carb_notes': ''}, 'File created at': '2025-06-23T23:33:26.292887+00:00', 'Serialized with': 'utils.json.json_save_with_meta', 'Deserialize with': 'utils.json.json_load_with_meta'}, '_data_': {'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1002, 'id_plume': 1324, 'observation_timestamp': datetime.datetime(2025, 5, 14, 0, 0), 'lat_carb': 32.0, 'long_carb': 33.0, 'id_message': 'message id -01', 'facility_name': 'My Q1.  Facility Name', 'id_arb_swis': 'My Q2.  Facility SWIS ID', 'contact_name': 'My Q3.  Contact Name', 'contact_phone': 'My Q4.  Contact Phone', 'contact_email': 'My Q5.  Contact Email', 'inspection_timestamp': datetime.datetime(2005, 2, 5, 0, 0), 'instrument': 'My Q7.  Instrument used to l', 'emission_identified_flag_fk': 'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification', 'additional_activities': 'My Q9.  If no leaks were fou', 'initial_leak_concentration': 123.45, 'lat_revised': 44.0, 'long_revised': 45.0, 'emission_type_fk': 'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)', 'emission_location': 'Working Face (area where active filling was being conducted at the time of detection)', 'emission_location_notes': 'My Q15.  Please provide a mo', 'emission_cause': 'Offline Gas Collection Well(s)', 'emission_cause_secondary': 'Construction - New Well Installation', 'emission_cause_tertiary': 'Not applicable as no additional leak cause suspected', 'emission_cause_notes': 'My Q19.  Please provide a mo', 'mitigation_actions': 'My Q20.  Describe any correc', 'mitigation_timestamp': datetime.datetime(2025, 5, 1, 0, 0), 're_monitored_timestamp': datetime.datetime(2025, 5, 2, 0, 0), 're_monitored_concentration': 987.64, 'included_in_last_lmr': 'No', 'included_in_last_lmr_description': "My Q25.  If 'No' to Q24, ple", 'planned_for_next_lmr': 'No', 'planned_for_next_lmr_description': "My Q27.  If 'No' to Q26, ple", 'last_surface_monitoring_timestamp': datetime.datetime(2025, 1, 1, 0, 0), 'last_component_leak_monitoring_timestamp': datetime.datetime(2025, 1, 2, 0, 0), 'additional_notes': 'My Q30.  Additional notes or'}}}}
+2025-06-23 16:33:26.294 | DEBUG    | app_logger       | user:anonymous | 144   | json.py              | JSON saved to file: 'C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1002_ts_20250623_163326.json'.
+2025-06-23 16:33:26.295 | DEBUG    | app_logger       | user:anonymous | 407   | db_ingest_util.py    | Staged JSON saved to: C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1002_ts_20250623_163326.json
+2025-06-23 16:33:26.295 | DEBUG    | app_logger       | user:anonymous | 39    | file_upload_util.py  | Adding uploaded file to upload table: file_name=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1002_ts_20250623_163326.json')
+2025-06-23 16:33:26.452 | DEBUG    | app_logger       | user:anonymous | 47    | file_upload_util.py  | model_uploaded_file=<Uploaded File: 564, Path: C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1002_ts_20250623_163326.json, Description: Staged file with base_misc_json, Status: Staged JSON>
+2025-06-23 16:33:26.453 | DEBUG    | app_logger       | user:anonymous | 353   | routes.py            | Staged upload successful: id=1002, sector=Landfill, filename=id_1002_ts_20250623_163326.json. Redirecting to review page.
+2025-06-23 16:33:26.492 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:26] "POST /upload_staged HTTP/1.1" 302 -
+2025-06-23 16:33:26.499 | DEBUG    | app_logger       | user:anonymous | 384   | routes.py            | Reviewing staged upload for id=1002, filename=id_1002_ts_20250623_163326.json
+2025-06-23 16:33:26.500 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1002_ts_20250623_163326.json'), json_options=None
+2025-06-23 16:33:26.500 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1002_ts_20250623_163326.json'), json_options=None
+2025-06-23 16:33:26.529 | DEBUG    | app_logger       | user:anonymous | 64    | db_ingest_util.py    | extract_tab_and_sector: extracted form data with sector 'Landfill' from tab 'Feedback Form'
+2025-06-23 16:33:26.529 | INFO     | app_logger       | user:anonymous | 60    | db_introspection_util.py | [get_ensured_row] ENTRY: table_name=incidences, primary_key_name=id_incidence, id_=1002, add_to_session=False
+2025-06-23 16:33:26.529 | INFO     | app_logger       | user:anonymous | 68    | db_introspection_util.py | [get_ensured_row] Table class: <class 'sqlalchemy.ext.automap.incidences'>, Session: True
+2025-06-23 16:33:26.530 | INFO     | app_logger       | user:anonymous | 71    | db_introspection_util.py | [get_ensured_row] Attempting to retrieve existing row with id_incidence=1002
+2025-06-23 16:33:26.607 | INFO     | app_logger       | user:anonymous | 85    | db_introspection_util.py | [get_ensured_row] Found existing row: <sqlalchemy.ext.automap.incidences object at 0x0000024310BDC950>, model.id_incidence=1002
+2025-06-23 16:33:26.608 | INFO     | app_logger       | user:anonymous | 106   | db_introspection_util.py | [get_ensured_row] RETURN: model=<sqlalchemy.ext.automap.incidences object at 0x0000024310BDC950>, id_=1002, is_new_row=False
+2025-06-23 16:33:26.608 | INFO     | app_logger       | user:anonymous | 111   | db_introspection_util.py | [get_ensured_row] Model session check: True, Model in session: True
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='additional_activities' | DB=str:'My Q9.  If no leaks were fou' | NEW=str:'My Q9.  If no leaks were fou' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='additional_notes' | DB=str:'My Q30.  Additional notes or' | NEW=str:'My Q30.  Additional notes or' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_email' | DB=str:'My Q5.  Contact Email' | NEW=str:'My Q5.  Contact Email' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_name' | DB=str:'My Q3.  Contact Name' | NEW=str:'My Q3.  Contact Name' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_phone' | DB=str:'My Q4.  Contact Phone' | NEW=str:'My Q4.  Contact Phone' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause' | DB=str:'Offline Gas Collection Well(s)' | NEW=str:'Offline Gas Collection Well(s)' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_notes' | DB=str:'My Q19.  Please provide a mo' | NEW=str:'My Q19.  Please provide a mo' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_secondary' | DB=str:'Construction - New Well Installation' | NEW=str:'Construction - New Well Installation' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_tertiary' | DB=str:'Not applicable as no additional leak cause suspected' | NEW=str:'Not applicable as no additional leak cause suspected' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_identified_flag_fk' | DB=str:'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification' | NEW=str:'Operator detected a leak during follow-up monitoring after receipt of the CARB plume notification' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_location' | DB=str:'Working Face (area where active filling was being conducted at the time of detection)' | NEW=str:'Working Face (area where active filling was being conducted at the time of detection)' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_location_notes' | DB=str:'My Q15.  Please provide a mo' | NEW=str:'My Q15.  Please provide a mo' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_type_fk' | DB=str:'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)' | NEW=str:'An unintentional leak  (i.e., the operator was not aware of, and could be repaired if discovered)' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='facility_name' | DB=str:'My Q1.  Facility Name' | NEW=str:'My Q1.  Facility Name' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_arb_swis' | DB=str:'My Q2.  Facility SWIS ID' | NEW=str:'My Q2.  Facility SWIS ID' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_incidence' | DB=int:'1002' | NEW=int:'1002' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_message' | DB=str:'message id -01' | NEW=str:'message id -01' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_plume' | DB=int:'1324' | NEW=int:'1324' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='included_in_last_lmr' | DB=str:'No' | NEW=str:'No' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='included_in_last_lmr_description' | DB=str:"My Q25.  If 'No' to Q24, ple" | NEW=str:"My Q25.  If 'No' to Q24, ple" | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='initial_leak_concentration' | DB=float:'123.45' | NEW=float:'123.45' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='inspection_timestamp' | DB=str:'2005-02-05T08:00:00+00:00' | NEW=datetime:'2005-02-05T08:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='instrument' | DB=str:'My Q7.  Instrument used to l' | NEW=str:'My Q7.  Instrument used to l' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='last_component_leak_monitoring_timestamp' | DB=str:'2025-01-02T08:00:00+00:00' | NEW=datetime:'2025-01-02T08:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='last_surface_monitoring_timestamp' | DB=str:'2025-01-01T08:00:00+00:00' | NEW=datetime:'2025-01-01T08:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='lat_carb' | DB=float:'32.0' | NEW=float:'32.0' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='lat_revised' | DB=float:'44.0' | NEW=float:'44.0' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='long_carb' | DB=float:'33.0' | NEW=float:'33.0' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.608 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='long_revised' | DB=float:'45.0' | NEW=float:'45.0' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='mitigation_actions' | DB=str:'My Q20.  Describe any correc' | NEW=str:'My Q20.  Describe any correc' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='mitigation_timestamp' | DB=str:'2025-05-01T07:00:00+00:00' | NEW=datetime:'2025-05-01T07:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='observation_timestamp' | DB=str:'2025-05-14T07:00:00+00:00' | NEW=datetime:'2025-05-14T07:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='planned_for_next_lmr' | DB=str:'No' | NEW=str:'No' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='planned_for_next_lmr_description' | DB=str:"My Q27.  If 'No' to Q26, ple" | NEW=str:"My Q27.  If 'No' to Q26, ple" | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='re_monitored_concentration' | DB=float:'987.64' | NEW=float:'987.64' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='re_monitored_timestamp' | DB=str:'2025-05-02T07:00:00+00:00' | NEW=datetime:'2025-05-02T07:00:00+00:00' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='sector' | DB=str:'Landfill' | NEW=str:'Landfill' | SAME=True | CONFIRM=False
+2025-06-23 16:33:26.609 | DEBUG    | app_logger       | user:anonymous | 415   | routes.py            | Computed 0 changes across 37 fields
+2025-06-23 16:33:26.648 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:26] "GET /review_staged/1002/id_1002_ts_20250623_163326.json HTTP/1.1" 200 -
+2025-06-23 16:33:26.684 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:26] "GET /static/css/portal_styles_01.css HTTP/1.1" 304 -
+2025-06-23 16:33:26.690 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:26] "GET /static/js/confirm_delete.js HTTP/1.1" 304 -
+2025-06-23 16:33:26.693 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 16:33:26] "GET /static/images/carb_logo_01.jpg HTTP/1.1" 304 -
