+2025-06-23 15:01:12.928 | DEBUG    | app_logger       | user:anonymous | 319   | routes.py            | upload_file_staged route called.
+2025-06-23 15:01:12.930 | DEBUG    | app_logger       | user:anonymous | 329   | routes.py            | Request received with files: [], upload_folder=C:\tony_local\pycharm\feedback_portal\portal_uploads
+2025-06-23 15:01:12.934 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /upload_staged HTTP/1.1" 200 -
+2025-06-23 15:01:12.962 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /static/css/portal_styles_01.css HTTP/1.1" 304 -
+2025-06-23 15:01:12.967 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /static/css/upload.css HTTP/1.1" 304 -
+2025-06-23 15:01:12.970 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /static/images/upload_icon.png HTTP/1.1" 304 -
+2025-06-23 15:01:12.983 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /static/js/confirm_delete.js HTTP/1.1" 304 -
+2025-06-23 15:01:12.998 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:12] "GET /static/js/upload.js HTTP/1.1" 304 -
+2025-06-23 15:01:13.001 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:13] "GET /static/images/carb_logo_01.jpg HTTP/1.1" 304 -
+2025-06-23 15:01:17.429 | DEBUG    | app_logger       | user:anonymous | 319   | routes.py            | upload_file_staged route called.
+2025-06-23 15:01:17.432 | DEBUG    | app_logger       | user:anonymous | 329   | routes.py            | Request received with files: ['file'], upload_folder=C:\tony_local\pycharm\feedback_portal\portal_uploads
+2025-06-23 15:01:17.433 | DEBUG    | app_logger       | user:anonymous | 339   | routes.py            | Received uploaded file: landfill_operator_feedback_v070_blank_01.xlsx
+2025-06-23 15:01:17.433 | DEBUG    | app_logger       | user:anonymous | 331   | db_ingest_util.py    | upload_and_stage_only() called with request_file=<FileStorage: 'landfill_operator_feedback_v070_blank_01.xlsx' ('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')>
+2025-06-23 15:01:17.433 | DEBUG    | app_logger       | user:anonymous | 48    | web_html.py          | Attempting to upload request_file.filename='landfill_operator_feedback_v070_blank_01.xlsx'
+2025-06-23 15:01:17.433 | DEBUG    | app_logger       | user:anonymous | 50    | web_html.py          | Upload single file as: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.xlsx
+2025-06-23 15:01:17.435 | DEBUG    | app_logger       | user:anonymous | 39    | file_upload_util.py  | Adding uploaded file to upload table: file_name=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.xlsx')
+2025-06-23 15:01:17.638 | DEBUG    | app_logger       | user:anonymous | 47    | file_upload_util.py  | model_uploaded_file=<Uploaded File: 551, Path: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.xlsx, Description: Staged only (no DB write), Status: File Added>
+2025-06-23 15:01:17.638 | DEBUG    | app_logger       | user:anonymous | 427   | xl_parse.py          | Excel upload detected: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.xlsx
+2025-06-23 15:01:17.638 | DEBUG    | app_logger       | user:anonymous | 170   | xl_parse.py          | parse_xl_with_schema_dict() called with xl_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.xlsx'), schema_map=None
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 187   | xl_parse.py          | metadata tab detected in Excel file
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 194   | xl_parse.py          | Schema tab detected in Excel file
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 229   | xl_parse.py          | Extracting data from 'Feedback Form', using the formatting schema 'landfill_v01_00'
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 283   | xl_parse.py          | Initial spreadsheet extraction of 'Feedback Form' yields {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 287   | xl_parse.py          | Final corrected spreadsheet extraction of 'Feedback Form' yields {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 430   | xl_parse.py          | Parsed Excel to dict: dict_keys(['metadata', 'schemas', 'tab_contents'])
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 432   | xl_parse.py          | Saving Excel-derived JSON as: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 169   | json.py              | json_save_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None, metadata=None, data={'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}}}
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 137   | json.py              | json_save() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None, data={'_metadata_': {'File created at': '2025-06-23T22:01:17.808368+00:00', 'Serialized with': 'utils.json.json_save_with_meta', 'Deserialize with': 'utils.json.json_load_with_meta'}, '_data_': {'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}}}}
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 144   | json.py              | JSON saved to file: 'C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'.
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 271   | db_ingest_util.py    | File converted or passed through to JSON: C:\tony_local\pycharm\feedback_portal\portal_uploads\landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None
+2025-06-23 15:01:17.808 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None
+2025-06-23 15:01:17.839 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None
+2025-06-23 15:01:17.839 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/landfill_operator_feedback_v070_blank_01_ts_2025_06_23_22_01_17.json'), json_options=None
+2025-06-23 15:01:17.839 | INFO     | app_logger       | user:anonymous | 50    | db_introspection_util.py | [get_ensured_row] ENTRY: table_name=incidences, primary_key_name=id_incidence, id_=1001
+2025-06-23 15:01:17.840 | INFO     | app_logger       | user:anonymous | 58    | db_introspection_util.py | [get_ensured_row] Table class: <class 'sqlalchemy.ext.automap.incidences'>, Session: True
+2025-06-23 15:01:17.840 | INFO     | app_logger       | user:anonymous | 61    | db_introspection_util.py | [get_ensured_row] Attempting to retrieve existing row with id_incidence=1001
+2025-06-23 15:01:17.941 | INFO     | app_logger       | user:anonymous | 66    | db_introspection_util.py | [get_ensured_row] No existing row found; creating new incidences row with id_incidence=1001
+2025-06-23 15:01:17.941 | INFO     | app_logger       | user:anonymous | 68    | db_introspection_util.py | [get_ensured_row] Created model instance: <sqlalchemy.ext.automap.incidences object at 0x00000286B11D3150>, model.id_incidence=1001
+2025-06-23 15:01:17.941 | INFO     | app_logger       | user:anonymous | 92    | db_introspection_util.py | [get_ensured_row] RETURN: model=<sqlalchemy.ext.automap.incidences object at 0x00000286B11D3150>, id_=1001, is_new_row=True
+2025-06-23 15:01:17.941 | INFO     | app_logger       | user:anonymous | 97    | db_introspection_util.py | [get_ensured_row] Model session check: False, Model in session: False
+2025-06-23 15:01:17.941 | DEBUG    | app_logger       | user:anonymous | 169   | json.py              | json_save_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None, metadata={'base_misc_json': {}}, data={'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}}}
+2025-06-23 15:01:17.941 | DEBUG    | app_logger       | user:anonymous | 137   | json.py              | json_save() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None, data={'_metadata_': {'base_misc_json': {}, 'File created at': '2025-06-23T22:01:17.941204+00:00', 'Serialized with': 'utils.json.json_save_with_meta', 'Deserialize with': 'utils.json.json_load_with_meta'}, '_data_': {'metadata': {'sector': 'Landfill', 'Red (alert) color': '#FFCCCB'}, 'schemas': {'Feedback Form': 'landfill_v01_00'}, 'tab_contents': {'Feedback Form': {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}}}}
+2025-06-23 15:01:17.941 | DEBUG    | app_logger       | user:anonymous | 144   | json.py              | JSON saved to file: 'C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1001_ts_20250623_150117.json'.
+2025-06-23 15:01:17.941 | DEBUG    | app_logger       | user:anonymous | 361   | db_ingest_util.py    | Staged JSON saved to: C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1001_ts_20250623_150117.json
+2025-06-23 15:01:17.941 | DEBUG    | app_logger       | user:anonymous | 39    | file_upload_util.py  | Adding uploaded file to upload table: file_name=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json')
+2025-06-23 15:01:18.177 | DEBUG    | app_logger       | user:anonymous | 47    | file_upload_util.py  | model_uploaded_file=<Uploaded File: 552, Path: C:\tony_local\pycharm\feedback_portal\portal_uploads\staging\id_1001_ts_20250623_150117.json, Description: Staged file with base_misc_json, Status: Staged JSON>
+2025-06-23 15:01:18.177 | DEBUG    | app_logger       | user:anonymous | 353   | routes.py            | Staged upload successful: id=1001, sector=Landfill, filename=id_1001_ts_20250623_150117.json. Redirecting to review page.
+2025-06-23 15:01:18.207 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:18] "POST /upload_staged HTTP/1.1" 302 -
+2025-06-23 15:01:18.222 | DEBUG    | app_logger       | user:anonymous | 384   | routes.py            | Reviewing staged upload for id=1001, filename=id_1001_ts_20250623_150117.json
+2025-06-23 15:01:18.223 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None
+2025-06-23 15:01:18.223 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None
+2025-06-23 15:01:18.223 | INFO     | app_logger       | user:anonymous | 50    | db_introspection_util.py | [get_ensured_row] ENTRY: table_name=incidences, primary_key_name=id_incidence, id_=1001
+2025-06-23 15:01:18.223 | INFO     | app_logger       | user:anonymous | 58    | db_introspection_util.py | [get_ensured_row] Table class: <class 'sqlalchemy.ext.automap.incidences'>, Session: True
+2025-06-23 15:01:18.223 | INFO     | app_logger       | user:anonymous | 61    | db_introspection_util.py | [get_ensured_row] Attempting to retrieve existing row with id_incidence=1001
+2025-06-23 15:01:18.356 | INFO     | app_logger       | user:anonymous | 66    | db_introspection_util.py | [get_ensured_row] No existing row found; creating new incidences row with id_incidence=1001
+2025-06-23 15:01:18.356 | INFO     | app_logger       | user:anonymous | 68    | db_introspection_util.py | [get_ensured_row] Created model instance: <sqlalchemy.ext.automap.incidences object at 0x00000286B1256610>, model.id_incidence=1001
+2025-06-23 15:01:18.356 | INFO     | app_logger       | user:anonymous | 92    | db_introspection_util.py | [get_ensured_row] RETURN: model=<sqlalchemy.ext.automap.incidences object at 0x00000286B1256610>, id_=1001, is_new_row=True
+2025-06-23 15:01:18.356 | INFO     | app_logger       | user:anonymous | 97    | db_introspection_util.py | [get_ensured_row] Model session check: False, Model in session: False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='additional_activities' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='additional_notes' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_email' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_name' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='contact_phone' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_notes' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_secondary' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_cause_tertiary' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_identified_flag_fk' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_location' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_location_notes' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='emission_type_fk' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='facility_name' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_arb_swis' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_incidence' | DB=NoneType:'' | NEW=int:'1001' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_message' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='id_plume' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='included_in_last_lmr' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='included_in_last_lmr_description' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='initial_leak_concentration' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='inspection_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='instrument' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='last_component_leak_monitoring_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='last_surface_monitoring_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='lat_carb' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='lat_revised' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='long_carb' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='long_revised' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='mitigation_actions' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='mitigation_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='observation_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='planned_for_next_lmr' | DB=NoneType:'' | NEW=str:'Please Select' | SAME=False | CONFIRM=True
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='planned_for_next_lmr_description' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='re_monitored_concentration' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 687   | json.py              | DIFF KEY='re_monitored_timestamp' | DB=NoneType:'' | NEW=NoneType:'' | SAME=True | CONFIRM=False
+2025-06-23 15:01:18.356 | INFO     | app_logger       | user:anonymous | 413   | routes.py            | ⚠️ Staged ID 1001 did not exist in DB. A blank row was created for review.
+2025-06-23 15:01:18.356 | DEBUG    | app_logger       | user:anonymous | 415   | routes.py            | Computed 9 changes across 36 fields
+2025-06-23 15:01:18.474 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:18] "GET /review_staged/1001/id_1001_ts_20250623_150117.json HTTP/1.1" 200 -
+2025-06-23 15:01:18.523 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:18] "GET /static/css/portal_styles_01.css HTTP/1.1" 304 -
+2025-06-23 15:01:18.529 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:18] "GET /static/js/confirm_delete.js HTTP/1.1" 304 -
+2025-06-23 15:01:18.544 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:18] "GET /static/images/carb_logo_01.jpg HTTP/1.1" 304 -
+2025-06-23 15:01:22.792 | DEBUG    | app_logger       | user:anonymous | 242   | json.py              | json_load_with_meta() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None
+2025-06-23 15:01:22.793 | DEBUG    | app_logger       | user:anonymous | 211   | json.py              | json_load() called with file_path=WindowsPath('C:/tony_local/pycharm/feedback_portal/portal_uploads/staging/id_1001_ts_20250623_150117.json'), json_options=None
+2025-06-23 15:01:22.795 | INFO     | app_logger       | user:anonymous | 476   | routes.py            | [confirm_staged] Getting/creating model row for id_incidence=1001
+2025-06-23 15:01:22.795 | INFO     | app_logger       | user:anonymous | 50    | db_introspection_util.py | [get_ensured_row] ENTRY: table_name=incidences, primary_key_name=id_incidence, id_=1001
+2025-06-23 15:01:22.795 | INFO     | app_logger       | user:anonymous | 58    | db_introspection_util.py | [get_ensured_row] Table class: <class 'sqlalchemy.ext.automap.incidences'>, Session: True
+2025-06-23 15:01:22.795 | INFO     | app_logger       | user:anonymous | 61    | db_introspection_util.py | [get_ensured_row] Attempting to retrieve existing row with id_incidence=1001
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 66    | db_introspection_util.py | [get_ensured_row] No existing row found; creating new incidences row with id_incidence=1001
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 68    | db_introspection_util.py | [get_ensured_row] Created model instance: <sqlalchemy.ext.automap.incidences object at 0x00000286B11DBA50>, model.id_incidence=1001
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 92    | db_introspection_util.py | [get_ensured_row] RETURN: model=<sqlalchemy.ext.automap.incidences object at 0x00000286B11DBA50>, id_=1001, is_new_row=True
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 97    | db_introspection_util.py | [get_ensured_row] Model session check: False, Model in session: False
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 484   | routes.py            | [confirm_staged] Model row result: type=<class 'sqlalchemy.ext.automap.incidences'>, id_incidence=1001, is_new_row=True
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 490   | routes.py            | [confirm_staged] Current misc_json: {}
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 491   | routes.py            | [confirm_staged] Base misc_json from staging: {}
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 501   | routes.py            | [confirm_staged] Building patch from 36 form fields
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: id_incidence=1001 (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: id_plume=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: observation_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: lat_carb=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: long_carb=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: id_message=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: facility_name=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: id_arb_swis=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: contact_name=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: contact_phone=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: contact_email=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: inspection_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: instrument=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_identified_flag_fk=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: additional_activities=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: initial_leak_concentration=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: lat_revised=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: long_revised=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_type_fk=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_location=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_location_notes=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_cause=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_cause_secondary=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_cause_tertiary=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: emission_cause_notes=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: mitigation_actions=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: mitigation_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: re_monitored_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: re_monitored_concentration=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: included_in_last_lmr=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: included_in_last_lmr_description=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: planned_for_next_lmr=Please Select (confirmed=True)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: planned_for_next_lmr_description=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: last_surface_monitoring_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: last_component_leak_monitoring_timestamp=None (confirmed=False)
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 514   | routes.py            | [confirm_staged] Added to patch: additional_notes=None (confirmed=False)
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 516   | routes.py            | [confirm_staged] Final patch contains 36 fields: ['id_incidence', 'id_plume', 'observation_timestamp', 'lat_carb', 'long_carb', 'id_message', 'facility_name', 'id_arb_swis', 'contact_name', 'contact_phone', 'contact_email', 'inspection_timestamp', 'instrument', 'emission_identified_flag_fk', 'additional_activities', 'initial_leak_concentration', 'lat_revised', 'long_revised', 'emission_type_fk', 'emission_location', 'emission_location_notes', 'emission_cause', 'emission_cause_secondary', 'emission_cause_tertiary', 'emission_cause_notes', 'mitigation_actions', 'mitigation_timestamp', 're_monitored_timestamp', 're_monitored_concentration', 'included_in_last_lmr', 'included_in_last_lmr_description', 'planned_for_next_lmr', 'planned_for_next_lmr_description', 'last_surface_monitoring_timestamp', 'last_component_leak_monitoring_timestamp', 'additional_notes']
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 525   | routes.py            | [confirm_staged] Prepared patch for JSON: {'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 529   | routes.py            | [confirm_staged] About to call apply_json_patch_and_log with 36 fields
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 58    | json_update_util.py  | [apply_json_patch_and_log] ENTRY: model=incidences, model.id_incidence=1001, updates=36 fields, json_field=misc_json
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 64    | json_update_util.py  | [apply_json_patch_and_log] Model session: False, Model in session: False
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 75    | json_update_util.py  | [apply_json_patch_and_log] Initial json_data: {}, is_new_row: True
+2025-06-23 15:01:22.874 | DEBUG    | app_logger       | user:anonymous | 116   | json_update_util.py  | [apply_json_patch_and_log] Added log entry for id_incidence: None -> 1001
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 118   | json_update_util.py  | [apply_json_patch_and_log] Applied 1 changes to json_data
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 124   | json_update_util.py  | [apply_json_patch_and_log] Before commit: model.misc_json={'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}
+2025-06-23 15:01:22.874 | INFO     | app_logger       | user:anonymous | 125   | json_update_util.py  | [apply_json_patch_and_log] About to commit 1 changes to database
+2025-06-23 15:01:22.982 | INFO     | app_logger       | user:anonymous | 129   | json_update_util.py  | [apply_json_patch_and_log] ✅ COMMIT SUCCESSFUL: 1 changes committed
+2025-06-23 15:01:22.983 | INFO     | app_logger       | user:anonymous | 132   | json_update_util.py  | [apply_json_patch_and_log] After commit: model.misc_json={'id_incidence': 1001, 'id_plume': None, 'observation_timestamp': None, 'lat_carb': None, 'long_carb': None, 'id_message': None, 'facility_name': None, 'id_arb_swis': None, 'contact_name': None, 'contact_phone': None, 'contact_email': None, 'inspection_timestamp': None, 'instrument': None, 'emission_identified_flag_fk': 'Please Select', 'additional_activities': None, 'initial_leak_concentration': None, 'lat_revised': None, 'long_revised': None, 'emission_type_fk': 'Please Select', 'emission_location': 'Please Select', 'emission_location_notes': None, 'emission_cause': 'Please Select', 'emission_cause_secondary': 'Please Select', 'emission_cause_tertiary': 'Please Select', 'emission_cause_notes': None, 'mitigation_actions': None, 'mitigation_timestamp': None, 're_monitored_timestamp': None, 're_monitored_concentration': None, 'included_in_last_lmr': 'Please Select', 'included_in_last_lmr_description': None, 'planned_for_next_lmr': 'Please Select', 'planned_for_next_lmr_description': None, 'last_surface_monitoring_timestamp': None, 'last_component_leak_monitoring_timestamp': None, 'additional_notes': None}
+2025-06-23 15:01:22.983 | INFO     | app_logger       | user:anonymous | 136   | json_update_util.py  | [apply_json_patch_and_log] Model session after commit: False
+2025-06-23 15:01:22.983 | INFO     | app_logger       | user:anonymous | 537   | routes.py            | [confirm_staged] ✅ apply_json_patch_and_log completed successfully
+2025-06-23 15:01:22.983 | INFO     | app_logger       | user:anonymous | 540   | routes.py            | [confirm_staged] About to commit database session
+2025-06-23 15:01:22.983 | INFO     | app_logger       | user:anonymous | 542   | routes.py            | [confirm_staged] ✅ Database session committed successfully
+2025-06-23 15:01:22.985 | INFO     | app_logger       | user:anonymous | 546   | routes.py            | [confirm_staged] ✅ Moved staged file to processed: C:\tony_local\pycharm\feedback_portal\portal_uploads\processed\id_1001_ts_20250623_150117.json
+2025-06-23 15:01:22.986 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:22] "POST /confirm_staged/1001/id_1001_ts_20250623_150117.json HTTP/1.1" 302 -
+2025-06-23 15:01:22.992 | DEBUG    | app_logger       | user:anonymous | 319   | routes.py            | upload_file_staged route called.
+2025-06-23 15:01:22.992 | DEBUG    | app_logger       | user:anonymous | 329   | routes.py            | Request received with files: [], upload_folder=C:\tony_local\pycharm\feedback_portal\portal_uploads
+2025-06-23 15:01:22.992 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:22] "GET /upload_staged HTTP/1.1" 200 -
+2025-06-23 15:01:23.019 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/css/portal_styles_01.css HTTP/1.1" 304 -
+2025-06-23 15:01:23.030 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/js/confirm_delete.js HTTP/1.1" 304 -
+2025-06-23 15:01:23.030 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/images/carb_logo_01.jpg HTTP/1.1" 304 -
+2025-06-23 15:01:23.031 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/css/upload.css HTTP/1.1" 304 -
+2025-06-23 15:01:23.031 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/js/upload.js HTTP/1.1" 304 -
+2025-06-23 15:01:23.034 | INFO     | werkzeug         | user:anonymous | 97    | _internal.py         | 127.0.0.1 - - [23/Jun/2025 15:01:23] "GET /static/images/upload_icon.png HTTP/1.1" 304 -
