============================= test session starts ==============================
platform linux -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- /home/tonyh/miniconda3/envs/mini_conda_02/bin/python
cachedir: .pytest_cache
rootdir: /home/tonyh/git_repos/feedback_portal
configfile: pytest.ini
plugins: base-url-2.1.0, anyio-4.7.0, playwright-0.7.0, asyncio-1.1.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 299 items

tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_function_existence PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_function_signatures PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_good_data ✅ Successfully parsed landfill_operator_feedback_v071_test_01_good_data.xlsx with both functions
✅ Both results match expected output exactly
✅ Results have consistent structure with 3 keys
PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_bad_data PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_blank_file PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_extract_tabs_equivalence PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_get_spreadsheet_key_value_pairs_equivalence PASSED
tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelContentValidation::test_all_feedback_form_types SKIPPED
tests/arb/utils/excel/test_minimal.py::test_hello_world hello world
PASSED
tests/arb/utils/excel/test_minimal.py::test_import_xl_create Testing import of xl_create module...
Successfully imported xl_create module
PASSED
tests/arb/utils/excel/test_xl_create.py::TestSortXlSchema::test_sort_xl_schema_by_variable_name PASSED
tests/arb/utils/excel/test_xl_create.py::TestSortXlSchema::test_sort_xl_schema_by_label_address PASSED
tests/arb/utils/excel/test_xl_create.py::TestSortXlSchema::test_sort_xl_schema_invalid_sort_by PASSED
tests/arb/utils/excel/test_xl_create.py::TestSortXlSchema::test_sort_xl_schema_empty_schema PASSED
tests/arb/utils/excel/test_xl_create.py::TestSchemaToJsonFile::test_schema_to_json_file_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestSchemaToJsonFile::test_schema_to_json_file_no_filename PASSED
tests/arb/utils/excel/test_xl_create.py::TestUpdateVbaSchema::test_update_vba_schema_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestUpdateVbaSchemas::test_update_vba_schemas_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestSchemaToDefaultDict::test_schema_to_default_dict_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestSchemaToDefaultJson::test_schema_to_default_json_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestUpdateXlsx::test_update_xlsx_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestUpdateXlsxPayloads::test_update_xlsx_payloads_single PASSED
tests/arb/utils/excel/test_xl_create.py::TestUpdateXlsxPayloads::test_update_xlsx_payloads_multiple PASSED
tests/arb/utils/excel/test_xl_create.py::TestPrepXlTemplates::test_prep_xl_templates_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestCreateDefaultTypesSchema::test_create_default_types_schema_basic PASSED
tests/arb/utils/excel/test_xl_create.py::TestCreateDefaultTypesSchema::test_create_default_types_schema_with_diagnostics PASSED
tests/arb/utils/excel/test_xl_create.py::TestCreatePayload::test_create_payload_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestCreatePayload::test_create_payload_no_metadata PASSED
tests/arb/utils/excel/test_xl_create.py::TestCreatePayloads::test_create_payloads_success PASSED
tests/arb/utils/excel/test_xl_create.py::TestXlCreateIntegration::test_schema_workflow_integration PASSED
tests/arb/utils/excel/test_xl_create.py::TestXlCreateIntegration::test_error_handling_integration PASSED
tests/arb/utils/excel/test_xl_misc.py::TestGetExcelRowColumn::test_get_excel_row_column_basic_addresses PASSED
tests/arb/utils/excel/test_xl_misc.py::TestGetExcelRowColumn::test_get_excel_row_column_edge_cases PASSED
tests/arb/utils/excel/test_xl_misc.py::TestGetExcelRowColumn::test_get_excel_row_column_invalid_addresses PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_by_row PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_by_column PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_with_sub_keys PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_empty_data PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_single_item PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_invalid_sort_by PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlAddressSort::test_xl_address_sort_missing_address PASSED
tests/arb/utils/excel/test_xl_misc.py::TestRunDiagnostics::test_run_diagnostics_success FAILED
tests/arb/utils/excel/test_xl_misc.py::TestXlMiscIntegration::test_address_parsing_and_sorting_integration PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlMiscIntegration::test_error_handling_integration PASSED
tests/arb/utils/excel/test_xl_misc.py::TestXlMiscIntegration::test_performance_with_large_datasets PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile::test_parse_xl_file_with_mock_data PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile::test_parse_xl_file_with_invalid_path PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile2::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile2::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestParseXlFile2::test_parse_xl_file_2_with_mock_data PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs::test_extract_tabs_with_mock_data PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs::test_extract_tabs_with_empty_schemas PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs2::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestExtractTabs2::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetSpreadsheetKeyValuePairs::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetSpreadsheetKeyValuePairs::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetSpreadsheetKeyValuePairs::test_get_spreadsheet_key_value_pairs_with_mock_worksheet PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetSpreadsheetKeyValuePairs2::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetSpreadsheetKeyValuePairs2::test_function_signature PASSED
tests/arb/utils/excel/test_xl_parse.py::TestEnsureSchema::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestEnsureSchema::test_ensure_schema_with_valid_schema PASSED
tests/arb/utils/excel/test_xl_parse.py::TestEnsureSchema::test_ensure_schema_with_missing_schema PASSED
tests/arb/utils/excel/test_xl_parse.py::TestSplitCompoundKeys::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestSplitCompoundKeys::test_split_compound_keys_with_lat_long PASSED
tests/arb/utils/excel/test_xl_parse.py::TestSplitCompoundKeys::test_split_compound_keys_with_empty_lat_long PASSED
tests/arb/utils/excel/test_xl_parse.py::TestConvertUploadToJson::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestConvertUploadToJson::test_convert_upload_to_json_with_mock_data PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetJsonFileNameOld::test_function_exists PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetJsonFileNameOld::test_get_json_file_name_old_with_xlsx_file PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetJsonFileNameOld::test_get_json_file_name_old_with_xls_file PASSED
tests/arb/utils/excel/test_xl_parse.py::TestGetJsonFileNameOld::test_get_json_file_name_old_with_other_extension PASSED
tests/arb/utils/excel/test_xl_parse.py::TestFunctionEquivalence::test_parse_xl_file_equivalence PASSED
tests/arb/utils/excel/test_xl_parse.py::TestFunctionEquivalence::test_extract_tabs_equivalence PASSED
tests/arb/utils/excel/test_xl_parse.py::TestFunctionEquivalence::test_get_spreadsheet_key_value_pairs_equivalence PASSED
tests/arb/utils/test_arb_logging.py::test_get_pretty_printer_basic PASSED
tests/arb/utils/test_arb_logging.py::test_get_pretty_printer_kwargs PASSED
tests/arb/utils/test_arb_logging.py::test_resolve_log_dir_creates_dir PASSED
tests/arb/utils/test_arb_logging.py::test_setup_standalone_logging_prints PASSED
tests/arb/utils/test_arb_logging.py::test_setup_app_logging_prints PASSED
tests/arb/utils/test_database.py::test_execute_sql_script_with_defaults SKIPPED
tests/arb/utils/test_database.py::test_execute_sql_script_with_custom_path_and_connection PASSED
tests/arb/utils/test_database.py::test_execute_sql_script_file_not_found PASSED
tests/arb/utils/test_database.py::test_execute_sql_script_empty_path PASSED
tests/arb/utils/test_database.py::test_execute_sql_script_invalid_sql PASSED
tests/arb/utils/test_database.py::test_get_reflected_base_valid PASSED
tests/arb/utils/test_database.py::test_get_reflected_base_none_db PASSED
tests/arb/utils/test_database.py::test_get_reflected_base_invalid_db PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_normal_operation PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_dry_run PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_remove_none_values PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_non_dict_json PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_empty_json PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_none_json PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_table_not_found PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_column_not_found PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_empty_table_name PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_none_table_name PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_empty_column_name PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_none_column_name PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_custom_remove_value PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_no_matches PASSED
tests/arb/utils/test_database.py::test_cleanse_misc_json_database_error_handling PASSED
tests/arb/utils/test_date_and_time.py::test_iso_str_to_utc_datetime_valid PASSED
tests/arb/utils/test_date_and_time.py::test_iso_str_to_utc_datetime_missing_tz_error PASSED
tests/arb/utils/test_date_and_time.py::test_iso_str_to_utc_datetime_missing_tz_assume_utc PASSED
tests/arb/utils/test_date_and_time.py::test_iso_str_to_utc_datetime_empty PASSED
tests/arb/utils/test_date_and_time.py::test_iso_str_to_utc_datetime_invalid PASSED
tests/arb/utils/test_date_and_time.py::test_excel_str_to_naive_datetime_valid PASSED
tests/arb/utils/test_date_and_time.py::test_excel_str_to_naive_datetime_empty_invalid PASSED
tests/arb/utils/test_date_and_time.py::test_html_naive_str_to_utc_datetime_valid PASSED
tests/arb/utils/test_date_and_time.py::test_html_naive_str_to_utc_datetime_empty PASSED
tests/arb/utils/test_date_and_time.py::test_ca_naive_datetime_to_utc_datetime_valid PASSED
tests/arb/utils/test_date_and_time.py::test_ca_naive_datetime_to_utc_datetime_aware PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_ca_naive_datetime_utc PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_ca_naive_datetime_naive_flag PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_ca_naive_datetime_naive_error PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_ca_naive_datetime_non_utc_error PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_iso_str_valid PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_iso_str_naive PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_html_naive_str_valid PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_html_naive_str_naive PASSED
tests/arb/utils/test_date_and_time.py::test_utc_datetime_to_html_naive_str_non_utc PASSED
tests/arb/utils/test_date_and_time.py::test_is_datetime_naive_cases PASSED
tests/arb/utils/test_date_and_time.py::test_is_datetime_utc_cases PASSED
tests/arb/utils/test_date_and_time.py::test_excel_naive_datetime_to_utc_datetime_valid PASSED
tests/arb/utils/test_date_and_time.py::test_excel_naive_datetime_to_utc_datetime_aware PASSED
tests/arb/utils/test_date_and_time.py::test_utc_iso_str_to_ca_str_valid PASSED
tests/arb/utils/test_date_and_time.py::test_utc_iso_str_to_ca_str_empty PASSED
tests/arb/utils/test_date_and_time.py::test_utc_iso_str_to_ca_str_invalid PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_utc_datetime_to_ca_naive_datetime_dict PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_utc_datetime_to_ca_naive_datetime_list PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_utc_datetime_to_ca_naive_datetime_non_datetime PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_ca_naive_datetime_to_utc_datetime_dict PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_ca_naive_datetime_to_utc_datetime_list PASSED
tests/arb/utils/test_date_and_time.py::test_bulk_ca_naive_datetime_to_utc_datetime_non_datetime PASSED
tests/arb/utils/test_diagnostics.py::test_obj_diagnostics_basic PASSED
tests/arb/utils/test_diagnostics.py::test_obj_diagnostics_include_hidden_and_functions PASSED
tests/arb/utils/test_diagnostics.py::test_obj_diagnostics_none PASSED
tests/arb/utils/test_diagnostics.py::test_list_differences_lists PASSED
tests/arb/utils/test_diagnostics.py::test_list_differences_dicts PASSED
tests/arb/utils/test_diagnostics.py::test_list_differences_none PASSED
tests/arb/utils/test_diagnostics.py::test_list_differences_print_warning PASSED
tests/arb/utils/test_diagnostics.py::test_diag_recursive_simple PASSED
tests/arb/utils/test_diagnostics.py::test_diag_recursive_none PASSED
tests/arb/utils/test_diagnostics.py::test_dict_to_str_flat PASSED
tests/arb/utils/test_diagnostics.py::test_dict_to_str_nested PASSED
tests/arb/utils/test_diagnostics.py::test_dict_to_str_none PASSED
tests/arb/utils/test_diagnostics.py::test_obj_to_html_dict PASSED
tests/arb/utils/test_diagnostics.py::test_obj_to_html_none PASSED
tests/arb/utils/test_diagnostics.py::test_compare_dicts_equal PASSED
tests/arb/utils/test_diagnostics.py::test_compare_dicts_diff_keys PASSED
tests/arb/utils/test_diagnostics.py::test_compare_dicts_diff_values PASSED
tests/arb/utils/test_diagnostics.py::test_compare_dicts_none PASSED
tests/arb/utils/test_diagnostics.py::test_get_changed_fields_basic PASSED
tests/arb/utils/test_diagnostics.py::test_get_changed_fields_none PASSED
tests/arb/utils/test_diagnostics.py::test_get_changed_fields_partial PASSED
tests/arb/utils/test_file_io.py::test_ensure_parent_dirs_creates_parents PASSED
tests/arb/utils/test_file_io.py::test_ensure_parent_dirs_noop_for_empty PASSED
tests/arb/utils/test_file_io.py::test_ensure_parent_dirs_existing_dir PASSED
tests/arb/utils/test_file_io.py::test_ensure_dir_exists_creates PASSED
tests/arb/utils/test_file_io.py::test_ensure_dir_exists_existing PASSED
tests/arb/utils/test_file_io.py::test_ensure_dir_exists_file_raises PASSED
tests/arb/utils/test_file_io.py::test_ensure_dir_exists_noop_for_empty PASSED
tests/arb/utils/test_file_io.py::test_get_secure_timestamped_file_name_basic PASSED
tests/arb/utils/test_file_io.py::test_get_secure_timestamped_file_name_empty_dir PASSED
tests/arb/utils/test_file_io.py::test_get_secure_timestamped_file_name_empty_file PASSED
tests/arb/utils/test_file_io.py::test_get_project_root_dir_success PASSED
tests/arb/utils/test_file_io.py::test_get_project_root_dir_no_match PASSED
tests/arb/utils/test_file_io.py::test_get_project_root_dir_empty_args PASSED
tests/arb/utils/test_file_io.py::test_resolve_project_root_success PASSED
tests/arb/utils/test_file_io.py::test_resolve_project_root_not_found PASSED
tests/arb/utils/test_file_io.py::test_resolve_project_root_empty_args PASSED
tests/arb/utils/test_file_io.py::test_read_file_reverse_basic PASSED
tests/arb/utils/test_file_io.py::test_read_file_reverse_empty_file PASSED
tests/arb/utils/test_file_io.py::test_read_file_reverse_file_not_found PASSED
tests/arb/utils/test_io_wrappers.py::test_save_json_safely_basic PASSED
tests/arb/utils/test_io_wrappers.py::test_save_json_safely_none_data PASSED
tests/arb/utils/test_io_wrappers.py::test_save_json_safely_with_options PASSED
tests/arb/utils/test_io_wrappers.py::test_save_json_safely_creates_parents PASSED
tests/arb/utils/test_io_wrappers.py::test_save_json_safely_none_path PASSED
tests/arb/utils/test_io_wrappers.py::test_read_json_file_basic PASSED
tests/arb/utils/test_io_wrappers.py::test_read_json_file_with_options PASSED
tests/arb/utils/test_io_wrappers.py::test_read_json_file_file_not_found PASSED
tests/arb/utils/test_io_wrappers.py::test_read_json_file_invalid_json PASSED
tests/arb/utils/test_io_wrappers.py::test_read_json_file_none_path PASSED
tests/arb/utils/test_io_wrappers.py::test_write_text_file_basic PASSED
tests/arb/utils/test_io_wrappers.py::test_write_text_file_none_text PASSED
tests/arb/utils/test_io_wrappers.py::test_write_text_file_creates_parents PASSED
tests/arb/utils/test_io_wrappers.py::test_write_text_file_none_path PASSED
tests/arb/utils/test_io_wrappers.py::test_copy_file_safe_basic PASSED
tests/arb/utils/test_io_wrappers.py::test_copy_file_safe_missing_src PASSED
tests/arb/utils/test_io_wrappers.py::test_copy_file_safe_none_args PASSED
tests/arb/utils/test_json.py::test_json_serializer_datetime PASSED
tests/arb/utils/test_json.py::test_json_serializer_decimal PASSED
tests/arb/utils/test_json.py::test_json_serializer_class PASSED
tests/arb/utils/test_json.py::test_json_serializer_unsupported PASSED
tests/arb/utils/test_json.py::test_json_deserializer_datetime PASSED
tests/arb/utils/test_json.py::test_json_deserializer_decimal PASSED
tests/arb/utils/test_json.py::test_json_deserializer_class PASSED
tests/arb/utils/test_json.py::test_json_deserializer_unknown_type PASSED
tests/arb/utils/test_json.py::test_json_deserializer_unknown_class PASSED
tests/arb/utils/test_json.py::test_json_save_and_load_roundtrip PASSED
tests/arb/utils/test_json.py::test_json_save_none_path PASSED
tests/arb/utils/test_json.py::test_json_save_none_data PASSED
tests/arb/utils/test_json.py::test_json_load_file_not_found PASSED
tests/arb/utils/test_json.py::test_json_load_invalid_json PASSED
tests/arb/utils/test_json.py::test_json_save_with_meta_and_load PASSED
tests/arb/utils/test_json.py::test_json_save_with_meta_none_metadata PASSED
tests/arb/utils/test_json.py::test_add_metadata_to_json PASSED
tests/arb/utils/test_json.py::test_compare_json_files_identical PASSED
tests/arb/utils/test_json.py::test_compare_json_files_different PASSED
tests/arb/utils/test_json.py::test_cast_model_value_int PASSED
tests/arb/utils/test_json.py::test_cast_model_value_float PASSED
tests/arb/utils/test_json.py::test_cast_model_value_bool PASSED
tests/arb/utils/test_json.py::test_cast_model_value_invalid PASSED
tests/arb/utils/test_json.py::test_wtform_types_and_values PASSED
tests/arb/utils/test_json.py::test_make_dict_serializeable_and_deserialize_dict PASSED
tests/arb/utils/test_json.py::test_safe_json_loads_valid PASSED
tests/arb/utils/test_json.py::test_safe_json_loads_none PASSED
tests/arb/utils/test_json.py::test_safe_json_loads_invalid PASSED
tests/arb/utils/test_json.py::test_extract_id_from_json PASSED
tests/arb/utils/test_json.py::test_extract_id_from_json_missing PASSED
tests/arb/utils/test_json.py::test_extract_tab_payload PASSED
tests/arb/utils/test_json.py::test_normalize_value PASSED
tests/arb/utils/test_json.py::test_compute_field_differences PASSED
tests/arb/utils/test_log_util.py::test_log_function_parameters_basic PASSED
tests/arb/utils/test_log_util.py::test_log_function_parameters_custom_logger PASSED
tests/arb/utils/test_log_util.py::test_log_function_parameters_type_error PASSED
tests/arb/utils/test_log_util.py::test_log_parameters_decorator_logs PASSED
tests/arb/utils/test_log_util.py::test_log_parameters_decorator_custom_logger PASSED
tests/arb/utils/test_log_util.py::test_log_parameters_type_error PASSED
tests/arb/utils/test_log_util.py::test_flask_user_context_filter_sets_user PASSED
tests/arb/utils/test_log_util.py::test_flask_user_context_filter_no_user PASSED
tests/arb/utils/test_misc.py::test_get_nested_value_basic PASSED
tests/arb/utils/test_misc.py::test_get_nested_value_missing_key PASSED
tests/arb/utils/test_misc.py::test_get_nested_value_type_error PASSED
tests/arb/utils/test_misc.py::test_get_nested_value_value_error PASSED
tests/arb/utils/test_misc.py::test_ensure_key_value_pair_injects PASSED
tests/arb/utils/test_misc.py::test_ensure_key_value_pair_type_error PASSED
tests/arb/utils/test_misc.py::test_replace_list_occurrences PASSED
tests/arb/utils/test_misc.py::test_replace_list_occurrences_none PASSED
tests/arb/utils/test_misc.py::test_args_to_string PASSED
tests/arb/utils/test_misc.py::test_log_error_logs_and_raises PASSED
tests/arb/utils/test_misc.py::test_safe_cast_basic PASSED
tests/arb/utils/test_misc.py::test_safe_cast_value_error PASSED
tests/arb/utils/test_misc.py::test_sanitize_for_utf8_valid PASSED
tests/arb/utils/test_misc.py::test_sanitize_for_utf8_non_string PASSED
tests/arb/utils/test_misc.py::test_sanitize_for_utf8_windows_1252_smart_quote PASSED
tests/arb/utils/test_misc.py::test_sanitize_for_utf8_none PASSED
tests/arb/utils/test_misc.py::test_sanitize_for_utf8_empty_string PASSED
tests/arb/utils/test_sql_alchemy.py::test_sa_model_diagnostics_logs PASSED
tests/arb/utils/test_sql_alchemy.py::test_get_sa_fields_returns_sorted PASSED
tests/arb/utils/test_sql_alchemy.py::test_get_sa_column_types_handles_types PASSED
tests/arb/utils/test_sql_alchemy.py::test_get_sa_automap_types PASSED
tests/arb/utils/test_sql_alchemy.py::test_sa_model_to_dict PASSED
tests/arb/utils/test_sql_alchemy.py::test_table_to_list PASSED
tests/arb/utils/test_sql_alchemy.py::test_get_class_from_table_name PASSED
tests/arb/utils/test_sql_alchemy.py::test_get_rows_by_table_name PASSED
tests/arb/utils/test_sql_alchemy.py::test_delete_commit_and_log_model PASSED
tests/arb/utils/test_sql_alchemy.py::test_add_commit_and_log_model PASSED
tests/arb/utils/test_web_html.py::test_upload_single_file PASSED
tests/arb/utils/test_web_html.py::test_upload_single_file_no_filename PASSED
tests/arb/utils/test_web_html.py::test_upload_single_file_none_filename PASSED
tests/arb/utils/test_web_html.py::test_selector_list_to_tuples PASSED
tests/arb/utils/test_web_html.py::test_selector_list_to_tuples_empty_list PASSED
tests/arb/utils/test_web_html.py::test_selector_list_to_tuples_single_item PASSED
tests/arb/utils/test_web_html.py::test_list_to_triple_tuple PASSED
tests/arb/utils/test_web_html.py::test_list_to_triple_tuple_empty_list PASSED
tests/arb/utils/test_web_html.py::test_list_to_triple_tuple_single_item PASSED
tests/arb/utils/test_web_html.py::test_update_triple_tuple_dict PASSED
tests/arb/utils/test_web_html.py::test_update_triple_tuple_dict_empty_list PASSED
tests/arb/utils/test_web_html.py::test_update_triple_tuple_dict_empty_match_list PASSED
tests/arb/utils/test_web_html.py::test_update_triple_tuple_dict_none_unmatch_update PASSED
tests/arb/utils/test_web_html.py::test_update_selector_dict PASSED
tests/arb/utils/test_web_html.py::test_update_selector_dict_empty_dict PASSED
tests/arb/utils/test_web_html.py::test_ensure_placeholder_option PASSED
tests/arb/utils/test_web_html.py::test_ensure_placeholder_option_custom_item PASSED
tests/arb/utils/test_web_html.py::test_ensure_placeholder_option_ensure_first_false PASSED
tests/arb/utils/test_web_html.py::test_ensure_placeholder_option_empty_list PASSED
tests/arb/utils/test_web_html.py::test_remove_items_single_string PASSED
tests/arb/utils/test_web_html.py::test_remove_items_list PASSED
tests/arb/utils/test_web_html.py::test_remove_items_empty_list PASSED
tests/arb/utils/test_web_html.py::test_remove_items_empty_tuples PASSED
tests/arb/utils/test_web_html.py::test_remove_items_item_not_found PASSED
tests/arb/utils/test_web_html.py::test_run_diagnostics Running diagnostics for web_html.py...
All selector diagnostics passed.
PASSED
tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_valid PASSED
tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_invalid PASSED
tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_none PASSED
tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_value_error PASSED
tests/arb/utils/test_wtf_forms_util.py::test_remove_validators_removes_inputrequired PASSED
tests/arb/utils/test_wtf_forms_util.py::test_change_validators_on_test_switches PASSED
tests/arb/utils/test_wtf_forms_util.py::test_change_validators_replaces PASSED
tests/arb/utils/test_wtf_forms_util.py::test_get_wtforms_fields_lists_fields PASSED
tests/arb/utils/test_wtf_forms_util.py::test_model_to_wtform_and_wtform_to_model PASSED
tests/arb/utils/test_wtf_forms_util.py::test_update_model_with_payload_and_get_payloads PASSED

=================================== FAILURES ===================================
_______________ TestRunDiagnostics.test_run_diagnostics_success ________________

args = (<excel.test_xl_misc.TestRunDiagnostics object at 0x7121c9f64e90>,)
keywargs = {}

    @wraps(func)
    def patched(*args, **keywargs):
>       with self.decoration_helper(patched,
                                    args,
                                    keywargs) as (newargs, newkeywargs):

../../miniconda3/envs/mini_conda_02/lib/python3.11/unittest/mock.py:1375: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
../../miniconda3/envs/mini_conda_02/lib/python3.11/contextlib.py:137: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
../../miniconda3/envs/mini_conda_02/lib/python3.11/unittest/mock.py:1357: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
../../miniconda3/envs/mini_conda_02/lib/python3.11/contextlib.py:517: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
../../miniconda3/envs/mini_conda_02/lib/python3.11/unittest/mock.py:1446: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <unittest.mock._patch object at 0x7121c9f57b90>

    def get_original(self):
        target = self.getter()
        name = self.attribute
    
        original = DEFAULT
        local = False
    
        try:
            original = target.__dict__[name]
        except (AttributeError, KeyError):
            original = getattr(target, name, DEFAULT)
        else:
            local = True
    
        if name in _builtins and isinstance(target, ModuleType):
            self.create = True
    
        if not self.create and original is DEFAULT:
>           raise AttributeError(
                "%s does not have the attribute %r" % (target, name)
            )
E           AttributeError: <module 'arb.utils.excel.xl_misc' from '/home/tonyh/git_repos/feedback_portal/source/production/arb/utils/excel/xl_misc.py'> does not have the attribute 'diag_update_xlsx_payloads_01'

../../miniconda3/envs/mini_conda_02/lib/python3.11/unittest/mock.py:1419: AttributeError
=============================== warnings summary ===============================
tests/arb/utils/test_database.py: 16 warnings
  /home/tonyh/git_repos/feedback_portal/tests/arb/utils/test_database.py:51: MovedIn20Warning: The ``declarative_base()`` function is now available as sqlalchemy.orm.declarative_base(). (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    Base = declarative_base()

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================== slowest durations ===============================
0.34s setup    tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_valid
0.32s call     tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_bad_data
0.08s call     tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_extract_tabs_equivalence
0.06s call     tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_good_data
0.05s call     tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_get_spreadsheet_key_value_pairs_equivalence
0.04s call     tests/arb/utils/excel/test_excel_functional_equivalence.py::TestExcelFunctionEquivalence::test_parse_xl_file_with_blank_file
0.03s call     tests/arb/utils/test_sql_alchemy.py::test_delete_commit_and_log_model
0.03s call     tests/arb/utils/test_wtf_forms_util.py::test_model_to_wtform_and_wtform_to_model
0.02s teardown tests/arb/utils/test_wtf_forms_util.py::test_min_decimal_precision_valid
0.01s call     tests/arb/utils/test_wtf_forms_util.py::test_update_model_with_payload_and_get_payloads

(885 durations < 0.005s hidden.  Use -vv to show these durations.)
=========================== short test summary info ============================
FAILED tests/arb/utils/excel/test_xl_misc.py::TestRunDiagnostics::test_run_diagnostics_success
============ 1 failed, 296 passed, 2 skipped, 16 warnings in 1.94s =============
