============================= test session starts =============================
platform win32 -- Python 3.11.13, pytest-8.4.1, pluggy-1.6.0 -- C:\Users\tonyh\miniconda3\envs\mini_conda_02\python.exe
cachedir: .pytest_cache
rootdir: D:\local\cursor\feedback_portal
configfile: pytest.ini
plugins: anyio-4.7.0, asyncio-1.1.0, base-url-2.1.0, playwright-0.7.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 703 items

tests/arb/auth/test_auth_routes.py::test_auth_bp_exists PASSED           [  0%]
tests/arb/auth/test_auth_routes.py::test_login_route SKIPPED (Requir...) [  0%]
tests/arb/auth/test_auth_routes.py::test_register_route SKIPPED (Req...) [  0%]
tests/arb/auth/test_auth_routes.py::test_logout_route SKIPPED (Requi...) [  0%]
tests/arb/auth/test_auth_routes.py::test_password_reset_route SKIPPED    [  0%]
tests/arb/auth/test_email_util.py::test_send_welcome_email_function_signature PASSED [  0%]
tests/arb/auth/test_email_util.py::test_send_password_reset_email_function_signature PASSED [  0%]
tests/arb/auth/test_email_util.py::test_send_email_confirmation_function_signature PASSED [  1%]
tests/arb/auth/test_email_util.py::test_send_welcome_email_with_valid_user SKIPPED [  1%]
tests/arb/auth/test_email_util.py::test_send_password_reset_email_with_valid_user SKIPPED [  1%]
tests/arb/auth/test_email_util.py::test_send_email_confirmation_with_valid_user SKIPPED [  1%]
tests/arb/auth/test_forms.py::test_registration_form_instantiation PASSED [  1%]
tests/arb/auth/test_forms.py::test_login_form_instantiation PASSED       [  1%]
tests/arb/auth/test_forms.py::test_password_reset_form_instantiation PASSED [  1%]
tests/arb/auth/test_forms.py::test_forgot_username_form_instantiation PASSED [  2%]
tests/arb/auth/test_forms.py::test_change_password_form_instantiation PASSED [  2%]
tests/arb/auth/test_forms.py::test_registration_form_validation SKIPPED  [  2%]
tests/arb/auth/test_forms.py::test_login_form_validation SKIPPED (Re...) [  2%]
tests/arb/auth/test_forms.py::test_password_reset_form_validation SKIPPED [  2%]
tests/arb/auth/test_forms.py::test_change_password_form_validation SKIPPED [  2%]
tests/arb/auth/test_models.py::test_get_user_model_function_signature PASSED [  2%]
tests/arb/auth/test_models.py::test_get_user_model_returns_model SKIPPED [  3%]
tests/arb/auth/test_models.py::test_user_model_creation SKIPPED (Req...) [  3%]
tests/arb/auth/test_models.py::test_user_model_validation SKIPPED (R...) [  3%]
tests/arb/portal/config/test_accessors.py::test_get_processed_versions_dir PASSED [  3%]
tests/arb/portal/config/test_accessors.py::test_get_upload_folder PASSED [  3%]
tests/arb/portal/config/test_accessors.py::test_get_payload_save_dir PASSED [  3%]
tests/arb/portal/config/test_accessors.py::test_get_app_mode_default PASSED [  3%]
tests/arb/portal/config/test_accessors.py::test_get_app_mode_custom PASSED [  4%]
tests/arb/portal/config/test_accessors.py::test_get_database_uri PASSED  [  4%]
tests/arb/portal/config/test_accessors.py::test_missing_config_keys PASSED [  4%]
tests/arb/portal/config/test_config_init.py::test_get_config_production_via_config_type PASSED [  4%]
tests/arb/portal/config/test_config_init.py::test_get_config_production_via_flask_env PASSED [  4%]
tests/arb/portal/config/test_config_init.py::test_get_config_testing_via_config_type PASSED [  4%]
tests/arb/portal/config/test_config_init.py::test_get_config_testing_via_flask_env PASSED [  4%]
tests/arb/portal/config/test_config_init.py::test_get_config_development_default PASSED [  5%]
tests/arb/portal/config/test_config_init.py::test_get_config_development_empty_strings PASSED [  5%]
tests/arb/portal/config/test_config_init.py::test_get_config_development_invalid_values PASSED [  5%]
tests/arb/portal/config/test_config_init.py::test_get_config_case_insensitive PASSED [  5%]
tests/arb/portal/config/test_config_init.py::test_get_config_priority_config_type_over_flask_env PASSED [  5%]
tests/arb/portal/config/test_config_init.py::test_get_config_mixed_case_environment PASSED [  5%]
tests/arb/portal/config/test_settings.py::test_base_config_defaults PASSED [  5%]
tests/arb/portal/config/test_settings.py::test_development_config_inherits PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_production_config_inherits PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_testing_config_inherits PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_env_override_sqlalchemy_database_uri PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_fast_load_environment_variable_true PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_fast_load_environment_variable_false PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_fast_load_environment_variable_not_set PASSED [  6%]
tests/arb/portal/config/test_settings.py::test_secret_key_from_environment PASSED [  7%]
tests/arb/portal/config/test_settings.py::test_secret_key_default_when_not_set PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_venting_exclusion_conditional_fields PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_ogi_performed_conditional_fields PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_method21_performed_conditional_fields PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_equipment_other_description_conditional PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_component_other_description_conditional PASSED [  7%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_ogi_result_requires_method21 PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestOilGasCrossFieldLogic::test_timestamp_validation_logic PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_emission_identified_conditional_fields PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_lmr_included_conditional_description PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_lmr_planned_conditional_description PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_contingent_dropdown_population PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_cross_field_validation_no_leak_detected PASSED [  8%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_cross_field_validation_operator_aware PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_timestamp_validation_logic PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestLandfillCrossFieldLogic::test_emission_cause_repeat_validation PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestUploadFormCrossFieldLogic::test_file_type_validation PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestUploadFormCrossFieldLogic::test_file_required_validation PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicIntegration::test_regulatory_compliance_across_sectors PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicIntegration::test_conditional_field_consistency PASSED [  9%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicIntegration::test_timestamp_validation_consistency PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicEdgeCases::test_empty_string_handling PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicEdgeCases::test_none_value_handling PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicEdgeCases::test_invalid_choice_handling PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicEdgeCases::test_multiple_conditional_changes PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::TestCrossFieldLogicEdgeCases::test_conditional_logic_performance PASSED [ 10%]
tests/arb/portal/test_cross_field_conditional_logic.py::test_all_cross_field_logic_scenarios PASSED [ 10%]
tests/arb/portal/test_db_hardcoded.py::test_get_og_dummy_form_data_keys PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_get_landfill_dummy_form_data_keys PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_get_og_dummy_form_data_completeness PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_get_landfill_dummy_form_data_completeness PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_dummy_data_datetime_consistency PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_dummy_data_sector_consistency PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_module_level_dropdowns_are_dicts PASSED [ 11%]
tests/arb/portal/test_db_hardcoded.py::test_get_excel_dropdown_data_returns_tuple_and_dicts PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_get_excel_dropdown_data_please_select_present PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_get_excel_dropdown_data_tuple_structure PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_get_excel_dropdown_data_deepcopy_immutability PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_empty_dropdown_edge_case PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_contingent_dropdown_structure PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_all_expected_dropdown_keys_present PASSED [ 12%]
tests/arb/portal/test_db_hardcoded.py::test_dropdown_values_not_empty PASSED [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_contingent_dropdown_completeness PASSED [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_dropdown_data_consistency PASSED [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_sector_constants_are_lists PASSED [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_logger_is_configured PASSED  [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_sector_constants_content PASSED [ 13%]
tests/arb/portal/test_db_hardcoded.py::test_selector_list_to_tuples_matches_canonical SKIPPED [ 13%]
tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_upload PASSED [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_landfill_upload PASSED  [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_upload PASSED [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_energy_upload PASSED    [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_generic_upload PASSED   [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_staged_upload PASSED [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_landfill_staged_upload PASSED [ 14%]
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_staged_upload PASSED [ 15%]
tests/arb/portal/test_file_upload_suite.py::test_energy_staged_upload 

============================== warnings summary ===============================
tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_upload
tests/arb/portal/test_file_upload_suite.py::test_landfill_upload
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_upload
tests/arb/portal/test_file_upload_suite.py::test_energy_upload
tests/arb/portal/test_file_upload_suite.py::test_generic_upload
  D:\local\cursor\feedback_portal\source\production\arb\utils\sql_alchemy.py:584: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    primary_row = db.session.query(primary_table).get(primary_table_pk_value)  # type: ignore

tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_upload
tests/arb/portal/test_file_upload_suite.py::test_landfill_upload
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_upload
tests/arb/portal/test_file_upload_suite.py::test_energy_upload
tests/arb/portal/test_file_upload_suite.py::test_generic_upload
  D:\local\cursor\feedback_portal\source\production\arb\utils\sql_alchemy.py:592: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    foreign_row = db.session.query(foreign_table).get(fk_value)  # type: ignore

tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_upload
tests/arb/portal/test_file_upload_suite.py::test_landfill_upload
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_upload
tests/arb/portal/test_file_upload_suite.py::test_energy_upload
tests/arb/portal/test_file_upload_suite.py::test_generic_upload
  D:\local\cursor\feedback_portal\source\production\arb\utils\sql_alchemy.py:592: SAWarning: fully NULL primary key identity cannot load any object.  This condition may raise an error in a future release.
    foreign_row = db.session.query(foreign_table).get(fk_value)  # type: ignore

tests/arb/portal/test_file_upload_suite.py::test_dairy_digester_upload
tests/arb/portal/test_file_upload_suite.py::test_landfill_upload
tests/arb/portal/test_file_upload_suite.py::test_oil_and_gas_upload
tests/arb/portal/test_file_upload_suite.py::test_energy_upload
tests/arb/portal/test_file_upload_suite.py::test_generic_upload
  D:\local\cursor\feedback_portal\source\production\arb\utils\sql_alchemy.py:525: LegacyAPIWarning: The Query.get() method is considered legacy as of the 1.x series of SQLAlchemy and becomes a legacy construct in 2.0. The method is now available as Session.get() (deprecated since: 2.0) (Background on SQLAlchemy 2.0 at: https://sqlalche.me/e/b8d9)
    row = db.session.query(table).get(id_)  # type: ignore

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! KeyboardInterrupt !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
C:\Users\tonyh\miniconda3\envs\mini_conda_02\Lib\site-packages\openpyxl\descriptors\base.py:39: KeyboardInterrupt
(to show a full traceback on KeyboardInterrupt use --full-trace)
================= 91 passed, 15 skipped, 20 warnings in 2.82s =================
